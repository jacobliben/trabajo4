(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/register/phone_verifying"],{"28a3":function(e,t,a){"use strict";var s=a("51a1"),n=a.n(s);n.a},"51a1":function(e,t,a){},"9c9f":function(e,t,a){"use strict";a.r(t);var s=a("fa5e"),n=a.n(s);for(var o in s)"default"!==o&&function(e){a.d(t,e,(function(){return s[e]}))}(o);t["default"]=n.a},c89f:function(e,t,a){"use strict";var s;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s}));var n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.hidePass=!e.hidePass},e.e1=function(t){e.hidePass=!e.hidePass},e.e2=function(t){e.hidePassRepeat=!e.hidePassRepeat},e.e3=function(t){e.hidePassRepeat=!e.hidePassRepeat})},o=[]},e575:function(e,t,a){"use strict";a.r(t);var s=a("c89f"),n=a("9c9f");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("28a3");var r,i=a("f0c5"),c=Object(i["a"])(n["default"],s["b"],s["c"],!1,null,"f65cb6ce",null,!1,s["a"],r);t["default"]=c.exports},fa5e:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("a34a"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a,s,n,o,r){try{var i=e[o](r),c=i.value}catch(h){return void a(h)}i.done?t(c):Promise.resolve(c).then(s,n)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var r=e.apply(t,a);function i(e){o(r,s,n,i,c,"next",e)}function c(e){o(r,s,n,i,c,"throw",e)}i(void 0)}))}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c={data:function(){var e;return e={isPerson:!1,tel_num:"",veri_code:"",apodo:"",contrasena:"",recontrasena:"",show_id_hint:!1,show_legal_id_hint:!1,disabled:!0,active:!1,checked:!1},i(e,"disabled",!0),i(e,"codeDisabled",!0),i(e,"codeText","获取"),i(e,"hidePass",!0),i(e,"hidePassRepeat",!0),i(e,"is_correct",!1),i(e,"in_company_registering",!0),i(e,"params",{active_one_step:!0,active_two_step:!1,the_step:2}),e},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params_phone=e.getStorageSync("params_phone"),console.log(this.params_business,"222")},mounted:function(){this.tel_num=this.params_phone.phonenumber||"",this.veri_code=this.params_phone.code||"",this.apodo=this.params_phone.userName||"",this.contrasena=this.params_phone.password||"",this.recontrasena=this.params_phone.rePass||"",this.checked=this.params_phone.prot,this.params=this.params_phone||{},this.params_phone.prot&&(this.disabled=!1,this.active=!0)},methods:{getCellphone:function(t){this.tel_num=t.target.value,this.params.phonenumber=t.target.value,this.isPerson?(e.setStorageSync("phone_verifying_cellphone",this.params.phonenumber),e.setStorageSync("contact_phone",this.params.phonenumber),e.setStorageSync("holder_phone",this.params.phonenumber)):this.isPerson||e.setStorageSync("contact_phone",this.params.phonenumber)},checkPhone:function(){var t=this;return r(s.default.mark((function a(){var n,o;return s.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t,11!=t.params.phonenumber.length){a.next=8;break}return a.next=4,t.$request({url:"/validUser",method:"POST",data:{mobile:n.params.phonenumber}});case 4:o=a.sent,"该手机号尚未注册"==o.data.msg?t.codeDisabled=!1:(e.showToast({title:"该手机已被注册过",icon:"none"}),t.codeDisabled=!0,t.tel_num=""),a.next=11;break;case 8:e.showToast({title:"手机号格式不正确",icon:"none"}),t.codeDisabled=!0,t.tel_num="";case 11:case"end":return a.stop()}}),a)})))()},getVerifyCode:function(e){this.veri_code=e.target.value,this.params.code=e.target.value},getName:function(e){this.apodo=e.target.value,this.params.userName=e.target.value},checkName:function(){var t=this;return r(s.default.mark((function a(){var n;return s.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$request({url:"/checkUserName/"+t.params.userName,method:"GET"});case 2:n=a.sent,console.log(n,0),200!=n.data.code?(e.showToast({title:"该登录号已存在,请10s后重选",icon:"none"}),t.apodo=""):e.showToast({title:"此登录号可以创建",icon:"none"});case 5:case"end":return a.stop()}}),a)})))()},getPassword:function(e){this.contrasena=e.target.value,this.params.password=e.target.value},getVerifyPassword:function(t){this.params.password!=t.target.value?(e.showToast({title:"两次密码需一致",icon:"none"}),this.contrasena="",this.recontrasena="",this.is_correct=!1):(this.recontrasena=t.target.value,this.params.rePass=t.target.value,this.is_correct=!0)},checkboxChange:function(e){this.checked=!this.checked,this.disabled=!this.disabled,this.active=!this.active,console.log(this.checked,"111"),!0===this.checked?this.params.prot=!0:this.params.prot=!1},goTerms:function(){e.navigateTo({url:"/pages/terms/terms"})},checkPassword:function(){var t=this.params.password;console.log(t,"1122");var a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/;if(!a.test(t))return e.showToast({title:"密码长度8~16位,必须包含数字,字母",icon:"none"}),void(this.contrasena="")},backIdentityChoosing:function(){e.navigateTo({url:"/pages/choose_identity/choose_identity"})},getCode:function(){var t=this;return r(s.default.mark((function a(){var n,o,r,i;return s.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t,11!=t.params.phonenumber.length){a.next=13;break}return a.next=4,t.$request({url:"/getRegistCode/"+t.params.phonenumber});case 4:o=a.sent,e.showToast({title:o.data.msg,icon:"none"}),console.log(t.params.phonenumber,"11231"),console.log(o,"1231"),t.codeDisabled=!0,r=60,i=setInterval((function(){r--,r>0?n.codeText=r+"s":(n.codeText="重新获取",clearInterval(i),n.codeDisabled=!1)}),1e3),a.next=14;break;case 13:e.showToast({title:"手机号格式不正确",icon:"none"});case 14:case"end":return a.stop()}}),a)})))()},formSubmit:function(t){if(console.log("form发生了submit事件，携带数据为："+JSON.stringify(t.detail.value)),null==this.params.code||""==this.params.code||4!=this.params.code.length)return e.showToast({title:"验证码必须4位,请输入",icon:"none"}),void(this.veri_code="");if(this.params.password.length<8)return e.showToast({title:"密码请输入8-16位",icon:"none"}),this.contrasena="",void(this.recontrasena="");var a=this.params.password,s=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,16}$/;return s.test(a)?this.params.password!=this.params.rePass?(e.showToast({title:"两次密码需一致",icon:"none"}),this.contrasena="",void(this.recontrasena="")):(this.params.the_step=2,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!1,this.params.active_four_step=!1,this.params.active_five_step=!1,e.setStorageSync("params_phone",this.params),void this.$emit("register_phone_params",this.params)):(e.showToast({title:"密码长度8~16位,必须包含数字,字母",icon:"none"}),void(this.contrasena=""))}}};t.default=c}).call(this,a("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/register/phone_verifying-create-component',
    {
        'components/register/phone_verifying-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("e575"))
        })
    },
    [['components/register/phone_verifying-create-component']]
]);
