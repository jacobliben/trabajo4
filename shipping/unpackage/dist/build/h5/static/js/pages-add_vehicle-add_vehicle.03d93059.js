(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-add_vehicle-add_vehicle"],{"0602":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var a={uniNumberBox:i("5ccc").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"current-state margin-top"},[i("v-uni-text",[e._v("车辆资料认证")])],1),i("v-uni-form",{staticClass:"margin-bottom",on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"two-photos"},[i("v-uni-view",{staticClass:"id-front",attrs:{"data-index":"vehicle_license_first"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.takephoto.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[e._v("车辆行驶证主副页"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-image",{attrs:{src:e.imgVehicleLicenseFirstUrl,mode:"aspectFit"}}),e.tachar_vehicle_license_first?i("v-uni-image",{staticClass:"tachar",attrs:{src:"/static/tachar.png",mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelVehicleLicenseFirst.apply(void 0,arguments)}}}):e._e()],1),i("v-uni-view",{staticClass:"id-front",attrs:{"data-index":"people_vehicle_photo"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.takephoto.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[e._v("请上传人车合照")]),i("v-uni-image",{attrs:{src:e.imgPeopleVehicleUrl,mode:"aspectFit"}}),e.tachar_people_vehicle?i("v-uni-image",{staticClass:"tachar",attrs:{src:"/static/tachar.png",mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelPeopleVehicle.apply(void 0,arguments)}}}):e._e()],1)],1),i("v-uni-view",{staticClass:"two-photos"},[i("v-uni-view",{staticClass:"id-front",attrs:{"data-index":"vehicle_transport_license"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.takephoto.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[e._v("道路运输证照片"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-image",{attrs:{src:e.imgTransportLicenseUrl,mode:"aspectFit"}}),e.tachar_transport_license?i("v-uni-image",{staticClass:"tachar",attrs:{src:"/static/tachar.png",mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelTransportLicense.apply(void 0,arguments)}}}):e._e()],1),e.is_ordinary?e._e():i("v-uni-view",{staticClass:"id-front",attrs:{"data-index":"trailer_license_photo_first"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.takephoto.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[e._v("挂车行驶证主副页")]),i("v-uni-image",{attrs:{src:e.imgHangingCarPhotoUrl,mode:"aspectFit"}}),e.tachar_hanging_car?i("v-uni-image",{staticClass:"tachar",attrs:{src:"/static/tachar.png",mode:"aspectFit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelHangingCar.apply(void 0,arguments)}}}):e._e()],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("是否新能源")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-radio-group",{staticClass:"truck-type",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioEnergyChange.apply(void 0,arguments)}}},e._l(e.energy_items,(function(t,a){return i("v-uni-label",{key:t.value,staticClass:"cell"},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:t.value,checked:a===e.energy_current}})],1),i("v-uni-view",[e._v(e._s(t.name))])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆种类")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-radio-group",{staticClass:"truck-type",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioCarChange.apply(void 0,arguments)}}},e._l(e.car_items,(function(t,a){return i("v-uni-label",{key:t.value,staticClass:"cell"},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:t.value,checked:a===e.car_current}})],1),i("v-uni-view",[e._v(e._s(t.name))])],1)})),1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车船牌照号"),i("v-uni-text",{staticClass:"star"},[e._v("*")]),i("v-uni-text",{staticClass:"text-green  text-sm margin-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goQuery.apply(void 0,arguments)}}},[e._v("(查资质)")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入车船牌照号码",maxlength:"10",value:e.plate_number},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarNo.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.checkCarNo.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name space-line"},[e._v("该车船牌照号已注册？"),i("v-uni-navigator",{attrs:{url:"/pages/bind_vehicle/bind_vehicle"}},[i("v-uni-text",{staticClass:"text-green text-lg  margin-left"},[e._v("绑定车船牌照号")])],1)],1)],1),i("v-uni-view",{staticClass:"current-state margin-top"},[i("v-uni-text",[e._v("营运车辆信息")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆所有人"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入车辆所有人",value:e.vehicleOwnName},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleOwnName.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车主类型"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.owner_type_index,range:e.owner_type_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerTypeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.owner_type_list[e.owner_type_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆类型"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.car_type_index,range:e.car_type_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerCarTypeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.car_type_list[e.car_type_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆品牌")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入车辆品牌",value:e.vehicle_brand},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getCarBrand.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆能源类型"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.energy_type_index,range:e.energy_type_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerEnergyTypeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.energy_type_list[e.energy_type_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车牌颜色"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.plate_type_index,range:e.list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerColorChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.list[e.plate_color_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("道路运输证号"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入道路运输证号",value:e.vehicleRoadcertNo},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getRoadTransportNo.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-text",{staticClass:"name"},[e._v("行驶证注册日期"),e.received_info.vehicleRegisterDate||"修改"!=e.btn_title?e._e():i("v-uni-text",{staticClass:" text-sm text-green"},[e._v("(未填)")])],1),i("v-uni-view",[e.driving_cert_register_date_has_input?i("v-uni-picker",{attrs:{mode:"date",value:e.driving_cert_register_date,end:e.endDate,"data-index":"driving_cert_register_date"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.driving_cert_register_date))])],1):e._e()],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.driving_cert_register_date_has_input=!0}}},[e.driving_cert_register_date_has_input?e._e():i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v("选择行驶证注册日期")])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-text",{staticClass:"name"},[e._v("行驶证发证日期")]),i("v-uni-view",[e.driving_cert_issuing_date_has_input?i("v-uni-picker",{attrs:{mode:"date",value:e.driving_cert_issuing_date,end:e.endDate,"data-index":"driving_cert_issuing_date"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.driving_cert_issuing_date))])],1):e._e()],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.driving_cert_issuing_date_has_input=!0}}},[e.driving_cert_issuing_date_has_input?e._e():i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v("选择行驶证发证日期")])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-text",{staticClass:"name"},[e._v("行驶证失效日期"),e.received_info.vehicleLicenseExpireDate||"修改"!=e.btn_title?e._e():i("v-uni-text",{staticClass:" text-sm text-green"},[e._v("(未填)")])],1),i("v-uni-view",[e.driving_cert_expiry_date_has_input?i("v-uni-picker",{attrs:{mode:"date",value:e.driving_cert_expiry_date,end:e.endDate,"data-index":"driving_cert_expiry_date"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.driving_cert_expiry_date))])],1):e._e()],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.driving_cert_expiry_date_has_input=!0}}},[e.driving_cert_expiry_date_has_input?e._e():i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v("选择行驶证失效日期")])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-text",{staticClass:"name"},[e._v("运输证到期日期"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",[e.road_cert_expiry_date_has_input?i("v-uni-picker",{attrs:{mode:"date",value:e.road_cert_expiry_date,end:e.endDate,"data-index":"road_cert_expiry_date"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindDateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.road_cert_expiry_date))])],1):e._e()],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.road_cert_expiry_date_has_input=!0}}},[e.road_cert_expiry_date_has_input?e._e():i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v("选择运输证到期日期")])],1)],1),i("v-uni-view",{staticClass:"current-state margin-top"},[i("v-uni-text",[e._v("载货信息")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("总质量（吨）"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入车辆总质量（吨）",value:e.vehicleLadenWeight},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleWeight.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆载质量（吨）"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入核定载质量（吨）",value:e.vehicleTonnage},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getRatingWeight.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("货箱长度")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.box_length_index,range:e.box_length_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickercargoBoxLengthChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.box_length_list[e.box_length_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("货箱类型"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-picker",{attrs:{value:e.box_type_index,range:e.box_type_list},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickercargoBoxTypeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-view text-lg"},[e._v(e._s(e.box_type_list[e.box_type_index]))])],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车轴数"),i("v-uni-text",{staticClass:"star"},[e._v("*")])],1),i("v-uni-view",{staticClass:"ref-name"},[i("uni-number-box",{staticClass:"picker-view text-lg",attrs:{min:0,max:20},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleAxlenum.apply(void 0,arguments)}},model:{value:e.vehicleAxlenum,callback:function(t){e.vehicleAxlenum=t},expression:"vehicleAxlenum"}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆长度(毫米)")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入车辆长度(毫米)",value:e.vehicleLength},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleLength.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆宽度(毫米)")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入车辆宽度(毫米)",value:e.vehicleWidth},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleWidth.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆高度(毫米)")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入车辆高度(毫米)",value:e.vehicleHeight},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleHeight.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("挂车牌照号")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入挂车牌照号",value:e.trailerPlateNumber},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getTrailerPlateNumber.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("绑定主驾")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请绑定主驾",value:e.driverId},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getDriverId.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"current-state margin-top"},[i("v-uni-text",[e._v("总质量4.5吨以下必填")])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("使用性质")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入使用性质",value:e.vehicleUserCharacter},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleUserCharacter.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("行驶证发证机关")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入行驶证发证机关",value:e.vehicleIssuingOrganizations},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleIssuingOrganizations.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"name"},[e._v("车辆识别代号")]),i("v-uni-view",{staticClass:"ref-name"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入车辆识别代号",value:e.vin},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getVehicleVinCode.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"btn-row "},[i("v-uni-button",{staticClass:"next-btn bg-gradual-green round margin-bottom",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.backBusiness.apply(void 0,arguments)}}},[e._v("返回")]),"查看"!=e.btn_title?i("v-uni-button",{staticClass:"next-btn round margin-bottom",class:{"bg-gradual-green":e.active},attrs:{disabled:e.disabled,"form-type":"submit"}},[e._v(e._s(e.btn_title))]):e._e()],1)],1)],1)},r=[]},"7cc7":function(e,t,i){"use strict";i.r(t);var a=i("0602"),n=i("a53c");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("c1fc");var s,c=i("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"1b9aa83a",null,!1,a["a"],s);t["default"]=o.exports},"7dbd":function(e,t,i){"use strict";var a=i("4ea4");i("99af"),i("c740"),i("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var n,r=a(i("1da1")),s=(a(i("00e2")),i("2e4a")),c={data:function(){var e=this.getDate({format:!0});return{isPerson:!1,disabled:!0,active:!1,received_info:[],plate_number:"",vehicleOwnName:"",vehicle_brand:"",vehicleRoadcertNo:"",vehicleLadenWeight:"",vehicleTonnage:"",params:{},vin:"",imgDriverLicenseUrl:"/static/id-front.png",imgTransportLicenseUrl:"/static/TransportLicense.png",imgVehicleLicenseFirstUrl:"/static/vehicle_license.jpg",imgVehicleLicenseSecondUrl:"/static/id-front.png",imgDraggingCarPhotoUrl:"/static/id-front.png",imgDraggingTransportPhotoUrl:"/static/id-front.png",imgHangingCarPhotoUrl:"/static/vehicle_license.jpg",imgPeopleVehicleUrl:"/static/people_vehicle.jpg",tachar_driver_license:!1,tachar_transport_license:!1,tachar_vehicle_license_first:!1,tachar_vehicle_license_second:!1,tachar_dragging_car:!1,tachar_dragging_transport:!1,tachar_hanging_car:!1,tachar_people_vehicle:!1,is_ordinary:!1,plate_type_index:1,plate_color_index:0,list:["黄牌"],owner_type_index:0,owner_type_list:["个人","企业"],plate_type_list:["小型汽车号牌","大型汽车号牌","其他号牌"],car_items:[{value:"ordinary",name:"普通货车"},{value:"semi-camion",name:"半挂车"}],car_current:1,energy_items:[{value:"new",name:"新能源"},{value:"old",name:"非新能源"}],energy_current:1,energy_type:"非新能源",vehicleTypeOptions:[],vehicleOwnTypeOptions:[],vehicleEnergyTypeOptions:[],vehicleEnergyTypeSendValue:[],vehicleTypeSendValue:[],vehicleCargoBoxLengthOptions:[],vehicleCargoBoxLengthSendValue:[],vehicleCargoBoxTypeOptions:[],vehicleCargoBoxTypeSendValue:[],vehicleAxlenum:"",vehicleLength:"",vehicleWidth:"",vehicleHeight:"",trailerPlateNumber:"",driverId:"",vehicleUserCharacter:"",vehicleIssuingOrganizations:"",btn_title:"",car_type_list:[],car_type_index:0,energy_type_list:[],energy_type_index:0,box_length_list:[],box_length_index:0,box_type_list:[],box_type_index:0,driving_cert_register_date:e,driving_cert_issuing_date:e,driving_cert_expiry_date:e,road_cert_expiry_date:e,driving_cert_register_date_has_input:!1,driving_cert_issuing_date_has_input:!1,driving_cert_expiry_date_has_input:!1,road_cert_expiry_date_has_input:!1}},computed:{endDate:function(){return this.getDate("end")}},components:{},onLoad:function(e){this.btn_title=e.btn_title,"修改"!=this.btn_title&&"查看"!=this.btn_title||(this.received_info=uni.getStorageSync("vehicle_item")),this.getCarTypes(),this.getVehicleOwnTypeOptions(),this.getVehiclePlateTypeOptions(),this.getVehiclePlateColorOptions(),this.getVehicleEnergyTypeOptions(),this.getVehicleTypeOptions(),this.getVehicleCargoBoxLengthOptions(),this.getCargoBoxType()},created:function(){this.isPerson=uni.getStorageSync("in_personal_registering"),this.params.whetherNewEnergy=2,"修改"!=this.btn_title&&"查看"!=this.btn_title||(this.imgVehicleLicenseFirstUrl=this.received_info.vehicleLicensePhotoFirst,""==this.imgVehicleLicenseFirstUrl&&(this.imgVehicleLicenseFirstUrl="/static/vehicle_license.jpg"),this.imgPeopleVehicleUrl=this.received_info.peopleVehiclePhoto,""==this.imgPeopleVehicleUrl&&(this.imgPeopleVehicleUrl="/static/people_vehicle.jpg"),this.imgTransportLicenseUrl=this.received_info.vehicleRoadcertPhoto,""==this.imgTransportLicenseUrl&&(this.imgTransportLicenseUrl="/static/TransportLicense.png"),this.imgHangingCarPhotoUrl=this.received_info.trailerLicensePhotoFirst,""==this.imgHangingCarPhotoUrl&&(this.imgHangingCarPhotoUrl="/static/vehicle_license.jpg"),console.log(this.imgVehicleLicenseFirstUrl,"reew"),this.plate_number=this.received_info.vehiclePlateNumber,this.vehicleOwnName=this.received_info.vehicleOwnName,this.owner_type_index=this.received_info.vehicleOwnType,this.vehicle_brand=this.received_info.vehicleBrands,this.vehicleRoadcertNo=this.received_info.vehicleRoadcertNo,this.received_info.vehicleRegisterDate&&(this.driving_cert_register_date=this.received_info.vehicleRegisterDate||this.getDate({format:!0}),this.driving_cert_register_date_has_input=!0),this.received_info.vehicleIssueDate&&(this.driving_cert_issuing_date=this.received_info.vehicleIssueDate||this.getDate({format:!0}),this.driving_cert_issuing_date_has_input=!0),this.received_info.vehicleLicenseExpireDate&&(this.driving_cert_expiry_date=this.received_info.vehicleLicenseExpireDate||this.getDate({format:!0}),this.driving_cert_expiry_date_has_input=!0),this.received_info.vehicleRoadcertExpireDate&&(this.road_cert_expiry_date=this.received_info.vehicleRoadcertExpireDate||this.getDate({format:!0}),this.road_cert_expiry_date_has_input=!0),this.vehicleLadenWeight=this.received_info.vehicleLadenWeight,this.vehicleTonnage=this.received_info.vehicleTonnage,this.vehicleAxlenum=this.received_info.vehicleAxlenum,this.vehicleLength=this.received_info.vehicleLength,this.vehicleWidth=this.received_info.vehicleWidth,this.vehicleHeight=this.received_info.vehicleHeight,this.trailerPlateNumber=this.received_info.trailerPlateNumber,this.vehicleUserCharacter=this.received_info.vehicleUserCharacter,this.vehicleIssuingOrganizations=this.received_info.vehicleIssuingOrganizations,this.vin=this.received_info.vehicleVincode,this.disabled=!1,this.active=!0)},mounted:function(){uni.setNavigationBarTitle({title:"".concat(this.btn_title,"车辆")})},methods:{getDate:function(e){var t=new Date,i=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=20),a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(i,"-").concat(a,"-").concat(n)},getVehicleOwnName:function(e){this.vehicleOwnName=e.target.value,this.params.vehicleOwnName=e.target.value},bindPickerEnergyTypeChange:function(e){console.log("picker发送选择改变，携带值为EnergyType",e.target.value),this.energy_type_index=e.target.value;var t=this.energy_type_index;console.log(this.energy_type_index,"车辆能源类型后台序数"),this.params.vehicleEnergyType=this.vehicleEnergyTypeSendValue[t-1],console.log(this.params.vehicleEnergyType,"车辆能源类型后台值")},bindPickerTypeChange:function(e){console.log("picker发送选择改变，携带值为车主类型",e.target.value),this.owner_type_index=e.target.value,this.params.vehicleOwnType=this.owner_type_index},bindPickerCarTypeChange:function(e){console.log("picker发送选择改变，携带值为车辆类型",e.target.value),this.car_type_index=e.target.value;var t=this.car_type_index;this.params.vehicleType=this.vehicleTypeSendValue[t-1],console.log(this.params.vehicleType,"车辆类型后台值")},detailImage:function(e,t){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new plus.io.FileReader;i.readAsDataURL(e),i.onloadend=function(e){t(e.target.result)}}))}))},bindPickerColorChange:function(e){console.log("picker发送选择改变，携带值为",e),this.plate_color_index=e.target.value,0==e.target.value&&(this.params.vehiclePlateColor="2"),this.plate_color_index=0,this.params.vehiclePlateColor="2"},bindPickerChange:function(e){console.log("picker发送选择改变01，携带值为",e.target.value),this.plate_type_index=e.target.value,0==e.target.value?this.params.vehiclePlateType="02":1==e.target.value?this.params.vehiclePlateType="01":2==e.target.value&&(this.params.vehiclePlateType="99")},bindPickercargoBoxLengthChange:function(e){console.log("picker发送选择改变，携带值为BoxLength",e.target.value),this.box_length_index=e.target.value;var t=this.box_length_index-1;this.params.cargoBoxLength=this.vehicleCargoBoxLengthSendValue[t]},bindPickercargoBoxTypeChange:function(e){console.log("picker发送选择改变，携带值为BoxType",e.target.value),this.box_type_index=e.target.value,this.params.cargoBoxType=e.target.value},getTrailerPlateNumber:function(e){this.params.trailerPlateNumber=e.detail.value},getDriverId:function(e){this.params.driverId=e.detail.value},getVehicleUserCharacter:function(e){this.params.vehicleUserCharacter=e.detail.value},getVehicleIssuingOrganizations:function(e){this.params.vehicleIssuingOrganizations=e.detail.value},getCarTypes:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("iscm_vehicle_species");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleOwnTypeOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_own_type");case 2:i=t.sent,e.vehicleOwnTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.owner_type_list=e.vehicleOwnTypeOptions,e.owner_type_list.unshift("请选择车主类型");case 6:case"end":return t.stop()}}),t)})))()},getVehiclePlateTypeOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_type");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehiclePlateColorOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_color");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleEnergyTypeOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_energy_type");case 2:i=t.sent,e.vehicleEnergyTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.energy_type_list=e.vehicleEnergyTypeOptions,e.energy_type_list.unshift("请选择车辆能源类型"),e.vehicleEnergyTypeSendValue=i.data.data.map((function(e){return e.dictValue})),a=e.received_info.vehicleEnergyType,e.energy_type_index=e.vehicleEnergyTypeSendValue.findIndex((function(e){return e==a}))+1;case 9:case"end":return t.stop()}}),t)})))()},getVehicleTypeOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_type");case 2:i=t.sent,e.vehicleTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.car_type_list=e.vehicleTypeOptions,e.car_type_list.unshift("请选择车辆类型"),e.vehicleTypeSendValue=i.data.data.map((function(e){return e.dictValue})),a=e.received_info.vehicleType,e.car_type_index=e.vehicleTypeSendValue.findIndex((function(e){return e==a}))+1;case 9:case"end":return t.stop()}}),t)})))()},getVehicleCargoBoxLengthOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_length");case 2:i=t.sent,e.vehicleCargoBoxLengthOptions=i,e.vehicleCargoBoxLengthOptions=e.vehicleCargoBoxLengthOptions.data.data.map((function(e){return e.dictLabel})),e.box_length_list=e.vehicleCargoBoxLengthOptions,e.box_length_list.unshift("请选择货箱长度"),e.vehicleCargoBoxLengthSendValue=i.data.data.map((function(e){return e.dictValue})),a=e.received_info.cargoBoxLength,e.box_length_index=e.vehicleCargoBoxLengthSendValue.findIndex((function(e){return e==a}))+1;case 10:case"end":return t.stop()}}),t)})))()},getCargoBoxType:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_cargo_box_type");case 2:i=t.sent,e.vehicleCargoBoxTypeOptions=i,e.vehicleCargoBoxTypeOptions=e.vehicleCargoBoxTypeOptions.data.data.map((function(e){return e.dictLabel})),e.vehicleCargoBoxTypeSendValue=i.data.data.map((function(e){return e.dictValue})),e.box_type_list=e.vehicleCargoBoxTypeOptions,e.box_type_list.unshift("请选择货箱类型"),a=e.received_info.cargoBoxType,e.box_type_index=e.vehicleCargoBoxTypeSendValue.findIndex((function(e){return e==a}))+1;case 10:case"end":return t.stop()}}),t)})))()},radioEnergyChange:function(e){console.log(e.target.value,"energy"),"new"===e.target.value?(this.energy_type="新能源",this.params.whetherNewEnergy=1):(this.energy_type="非新能源",this.params.whetherNewEnergy=2)},radioCarChange:function(e){console.log(e.target.value,"car"),"ordinary"==e.target.value?(this.is_ordinary=!0,this.params.vehicleSpecies=103):(this.is_ordinary=!1,this.params.vehicleSpecies=303)},getCarNo:function(e){this.plate_number=e.detail.value,this.params.vehiclePlateNumber=e.detail.value},checkCarNo:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=uni.getStorageSync("token"),a=e.plate_number,t.next=4,e.$request({url:"/app/vehicle/getByPlateNumber/"+a,method:"GET",header:{Authorization:i}});case 4:n=t.sent,n.data.hasOwnProperty("data")?uni.showToast({title:"该车牌号已被注册过,可直接绑定！",icon:"none"}):uni.showToast({title:"该车牌号尚未被注册过,请继续！",icon:"none"});case 6:case"end":return t.stop()}}),t)})))()},getCarBrand:function(e){this.vehicle_brand=e.detail.value,this.params.vehicleBrands=e.detail.value},getPlateColor:function(e){"黄牌"==e.newVal&&(this.params.vehiclePlateColor="2")},bindDateChange:function(e){"driving_cert_register_date"==e.currentTarget.dataset.index?(this.driving_cert_register_date=e.target.value,this.params.vehicleRegisterDate=this.driving_cert_register_date,this.driving_cert_register_date_has_input=!0):"driving_cert_issuing_date"==e.currentTarget.dataset.index?(this.driving_cert_issuing_date=e.target.value,this.params.vehicleIssueDate=this.driving_cert_issuing_date,this.driving_cert_issuing_date_has_input=!0):"driving_cert_expiry_date"==e.currentTarget.dataset.index?(this.driving_cert_expiry_date=e.target.value,this.params.vehicleLicenseExpireDate=this.driving_cert_expiry_date,this.driving_cert_expiry_date_has_input=!0):"road_cert_expiry_date"==e.currentTarget.dataset.index&&(this.road_cert_expiry_date=e.target.value,this.params.vehicleRoadcertExpireDate=this.road_cert_expiry_date,this.road_cert_expiry_date_has_input=!0)},getVehicleWeight:function(e){this.vehicleLadenWeight=e.detail.value,this.params.vehicleLadenWeight=e.detail.value},getRatingWeight:function(e){this.vehicleTonnage=e.detail.value,this.params.vehicleTonnage=e.detail.value,this.disabled=!1,this.active=!0},getRoadTransportNo:function(e){this.params.vehicleRoadcertNo=e.detail.value},getVehicleVinCode:function(e){this.params.vehicleVincode=e.detail.value},getVehicleAxlenum:function(e){this.params.vehicleAxlenum=e},getVehicleLength:function(e){this.params.vehicleLength=e.detail.value},getVehicleWidth:function(e){this.params.vehicleWidth=e.detail.value},getVehicleHeight:function(e){this.params.vehicleHeight=e.detail.value},takephoto:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t,"vehicle_license_first"!=e.currentTarget.dataset.index){i.next=7;break}return i.next=4,t.$photo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,uni.request({url:i[0],method:"GET",responseType:"arraybuffer",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=uni.arrayBufferToBase64(t.data),i="data:image/jpeg;base64,"+i,n.params.fileUrl=i,n.params.configure="face",a=n.params,e.next=7,n.$request({url:"/iscm/identify/vehicle",method:"POST",data:a,header:{"content-type":"application/x-www-form-urlencoded"}});case 7:r=e.sent,console.log(r,"1123fdsgds"),n.vin=r.data.data.vin,n.plate_number=r.data.data.plate_num,n.vehicle_brand=r.data.data.model,n.vehicleOwnName=r.data.data.owner,n.vehicleUserCharacter=r.data.data.use_character,n.driving_cert_register_date=r.data.data.register_date.substr(0,4)+"-"+r.data.data.register_date.substr(4,2)+"-"+r.data.data.register_date.substr(6,2),n.driving_cert_issuing_date=r.data.data.issue_date.substr(0,4)+"-"+r.data.data.issue_date.substr(4,2)+"-"+r.data.data.issue_date.substr(6,2),n.params.vehicleVincode=n.vin,n.params.vehiclePlateNumber=n.plate_number,n.params.vehicleBrands=n.vehicle_brand,n.params.vehicleOwnName=n.vehicleOwnName,n.params.vehicleUserCharacter=n.vehicleUserCharacter,n.params.vehicleRegisterDate=n.driving_cert_register_date,n.params.vehicleIssueDate=n.driving_cert_issuing_date;case 23:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}),n.imgVehicleLicenseFirstUrl=i[0],n.tachar_vehicle_license_first=!0,t.next=6,n.$upload({url:s.ossLocation.vehicle.first,file_path:i[0]});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()}});case 4:i.sent,i.next=29;break;case 7:if("vehicle_license_second"!=e.currentTarget.dataset.index){i.next=13;break}return i.next=10,t.$photo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgVehicleLicenseSecondUrl=i[0],n.tachar_vehicle_license_second=!0,t.next=5,n.$upload({url:s.ossLocation.vehicle.second,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 10:i.sent,i.next=29;break;case 13:if("vehicle_transport_license"!=e.currentTarget.dataset.index){i.next=19;break}return i.next=16,t.$photo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgTransportLicenseUrl=i[0],n.tachar_transport_license=!0,t.next=5,n.$upload({url:s.ossLocation.vehicle.road,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 16:i.sent,i.next=29;break;case 19:if("trailer_license_photo_first"!=e.currentTarget.dataset.index){i.next=25;break}return i.next=22,t.$photo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,uni.request({url:i[0],method:"GET",responseType:"arraybuffer",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=uni.arrayBufferToBase64(t.data),i="data:image/jpeg;base64,"+i,n.params.fileUrl=i,n.params.configure="face",a=n.params,e.next=7,n.$request({url:"/iscm/identify/vehicle",method:"POST",data:a,header:{"content-type":"application/x-www-form-urlencoded"}});case 7:r=e.sent,console.log(r,"1123fdsgds"),n.vin=r.data.data.vin,n.plate_number=r.data.data.plate_num,n.vehicle_brand=r.data.data.model,n.vehicleOwnName=r.data.data.owner,n.vehicleUserCharacter=r.data.data.use_character,n.driving_cert_register_date=r.data.data.register_date.substr(0,4)+"-"+r.data.data.register_date.substr(4,2)+"-"+r.data.data.register_date.substr(6,2),n.driving_cert_issuing_date=r.data.data.issue_date.substr(0,4)+"-"+r.data.data.issue_date.substr(4,2)+"-"+r.data.data.issue_date.substr(6,2),n.params.vehicleVincode=n.vin,n.params.vehiclePlateNumber=n.plate_number,n.params.vehicleBrands=n.vehicle_brand,n.params.vehicleOwnName=n.vehicleOwnName,n.params.vehicleUserCharacter=n.vehicleUserCharacter,n.params.vehicleRegisterDate=n.driving_cert_register_date,n.params.vehicleIssueDate=n.driving_cert_issuing_date;case 23:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}),n.imgHangingCarPhotoUrl=i[0],n.tachar_hanging_car=!0,t.next=6,n.$upload({url:s.ossLocation.trailer.first,file_path:i[0]});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()}});case 22:i.sent,i.next=29;break;case 25:if("people_vehicle_photo"!=e.currentTarget.dataset.index){i.next=29;break}return i.next=28,t.$photo({success:function(e){return(0,r.default)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgPeopleVehicleUrl=i[0],n.tachar_people_vehicle=!0,t.next=5,n.$upload({url:s.ossLocation.vehicle.rc,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 28:i.sent;case 29:case"end":return i.stop()}}),i)})))()},uploadDriverLicense:function(){n=this,uni.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(e){var t=e.tempFilePaths;n.imgDriverLicenseUrl=t[0],n.tachar_driver_license=!0;var i=uni.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:t[0],name:"file",formData:{user:"test"},success:function(e){uni.showToast({title:"上传成功"})}});i.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingCarPhoto:function(){n=this,uni.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(e){var t=e.tempFilePaths;n.imgDraggingCarPhotoUrl=t[0],n.tachar_dragging_car=!0;var i=uni.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:t[0],name:"file",formData:{user:"test"},success:function(e){uni.showToast({title:"上传成功"}),n.disabled=!1,n.active=!0}});i.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingTransportPhoto:function(){n=this,uni.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(e){var t=e.tempFilePaths;n.imgDraggingTransportPhotoUrl=t[0],n.tachar_dragging_transport=!0;var i=uni.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:t[0],name:"file",formData:{user:"test"},success:function(e){uni.showToast({title:"上传成功"}),n.disabled=!1,n.active=!0}});i.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},cancelHangingCar:function(){this.imgHangingCarPhotoUrl="/static/vehicle_license.jpg",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_hanging_car=!1},cancelDraggingCar:function(){this.imgDraggingCarPhotoUrl="/static/id-front.png",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_car=!1},cancelDraggingTransport:function(){this.imgDraggingTransportPhotoUrl="/static/id-front.png",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_transport=!1},cancelDriverLicense:function(){this.imgDriverLicenseUrl="/static/id-front.png",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_license=!1},cancelTransportLicense:function(){this.imgTransportLicenseUrl="/static/TransportLicense.png",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_transport_license=!1},cancelVehicleLicenseFirst:function(){this.imgVehicleLicenseFirstUrl="/static/vehicle_license.jpg",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_first=!1},cancelVehicleLicenseSecond:function(){this.imgVehicleLicenseSecondUrl="/static/id-front.png",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_second=!1},cancelPeopleVehicle:function(){this.imgPeopleVehicleUrl="/static/people_vehicle.jpg",setTimeout((function(){uni.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_people_vehicle=!1},goQuery:function(){window.location.href="http://ysfw.mot.gov.cn/NetRoadCGSS-web/information/query"},formSubmit:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var i,a,n,r,s,c,o,l,u,v,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("添加"!=t.btn_title){e.next=91;break}if(t.params.vehicleLicensePhotoFirst=uni.getStorageSync("vehicleLicensePhotoFirst"),(null==t.params.vehicleLicensePhotoFirst||""==t.params.vehicleLicensePhotoFirst||t.params.vehicleLicensePhotoFirst.length<1)&&uni.showToast({title:"请提交车辆行驶证主副页",icon:"none"}),t.params.vehicleRoadcertPhoto=uni.getStorageSync("vehicleRoadcertPhoto"),(null==t.params.vehicleRoadcertPhoto||""==t.params.vehicleRoadcertPhoto||t.params.vehicleRoadcertPhoto.length<1)&&uni.showToast({title:"请提交道路运输证",icon:"none"}),(null==t.params.whetherNewEnergy||""==t.params.whetherNewEnergy||t.params.whetherNewEnergy.length<1)&&(t.params.whetherNewEnergy=2),(null==t.params.vehicleSpecies||""==t.params.vehicleSpecies||t.params.vehicleSpecies.length<1)&&(t.params.vehicleSpecies=303),(null==t.params.vehiclePlateType||""==t.params.vehiclePlateType||t.params.vehiclePlateType.length<1)&&(t.params.vehiclePlateType="02"),(null==t.params.vehiclePlateColor||""==t.params.vehiclePlateColor||t.params.vehiclePlateColor.length<1)&&(t.params.vehiclePlateColor="2"),i=t.params.vehiclePlateNumber,a=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF]))|[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,n=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF])))$/,r=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,a.test(i)){e.next=19;break}return uni.showToast({title:"车牌号不正确",icon:"none"}),t.plate_num="",e.abrupt("return");case 19:if(!n.test(i)){e.next=23;break}"新能源"==t.energy_type?(console.log("车牌号正确"),uni.setStorageSync("params_vehicle",t.params),t.$emit("register_vehicle_params",t.params)):uni.showToast({title:"车牌号不正确，请确认是否为新能源车",icon:"none"}),e.next=33;break;case 23:if(!r.test(i)){e.next=33;break}if("非新能源"!=t.energy_type){e.next=30;break}console.log("车牌号正确"),uni.setStorageSync("params_vehicle",t.params),t.$emit("register_vehicle_params",t.params),e.next=33;break;case 30:return uni.showToast({title:"车牌号不正确，请确认是否为非新能源车",icon:"none"}),t.plate_num="",e.abrupt("return");case 33:if(!(null==t.params.cargoBoxType||""==t.params.cargoBoxType||t.params.cargoBoxType.length<1)){e.next=36;break}return uni.showToast({title:"未输入货箱类型, 请输入",icon:"none"}),e.abrupt("return");case 36:if(!(null==t.params.vehicleAxlenum||""==t.params.vehicleAxlenum||t.params.vehicleAxlenum.length<1)){e.next=39;break}return uni.showToast({title:"未输入车轴数, 请输入",icon:"none"}),e.abrupt("return");case 39:if(!(null==t.params.vehicleBrands||""==t.params.vehicleBrands||t.params.vehicleBrands.length<1)){e.next=42;break}return uni.showToast({title:"未输入车辆品牌, 请输入",icon:"none"}),e.abrupt("return");case 42:if(!(null==t.params.vehicleEnergyType||""==t.params.vehicleEnergyType||t.params.vehicleEnergyType.length<1)){e.next=45;break}return uni.showToast({title:"未输入车辆能源类型, 请输入",icon:"none"}),e.abrupt("return");case 45:if(!(t.params.vehicleLadenWeight<4.5)){e.next=61;break}if(!(null==t.params.vehicleIssueDate||""==t.params.vehicleIssueDate||t.params.vehicleIssueDate.length<1)){e.next=49;break}return uni.showToast({title:"未输入行驶证发证日期, 请输入",icon:"none"}),e.abrupt("return");case 49:if(!(null==t.params.vehicleIssuingOrganizations||""==t.params.vehicleIssuingOrganizations||t.params.vehicleIssuingOrganizations.length<1)){e.next=52;break}return uni.showToast({title:"未输入发证机关, 请输入",icon:"none"}),e.abrupt("return");case 52:if(!(null==t.params.vehicleRegisterDate||""==t.params.vehicleRegisterDate||t.params.vehicleRegisterDate.length<1)){e.next=55;break}return uni.showToast({title:"未输入行驶证注册日期, 请输入",icon:"none"}),e.abrupt("return");case 55:if(!(null==t.params.vehicleUserCharacter||""==t.params.vehicleUserCharacter||t.params.vehicleUserCharacter.length<1)){e.next=58;break}return uni.showToast({title:"未输入使用性质, 请输入",icon:"none"}),e.abrupt("return");case 58:if(!(null==t.params.vehicleVincode||""==t.params.vehicleVincode||t.params.vehicleVincode.length<1)){e.next=61;break}return uni.showToast({title:"未输入车辆识别代号, 请输入",icon:"none"}),e.abrupt("return");case 61:if(!(null==t.params.vehicleLicenseExpireDate||""==t.params.vehicleLicenseExpireDate||t.params.vehicleLicenseExpireDate.length<1)){e.next=64;break}return uni.showToast({title:"未输入行驶证失效日期, 请输入",icon:"none"}),e.abrupt("return");case 64:if(!(null==t.params.vehicleRoadcertExpireDate||""==t.params.vehicleRoadcertExpireDate||t.params.vehicleRoadcertExpireDate.length<1)){e.next=67;break}return uni.showToast({title:"未输入运输证到期日期, 请输入",icon:"none"}),e.abrupt("return");case 67:if(!(null==t.params.vehicleLadenWeight||""==t.params.vehicleLadenWeight||t.params.vehicleLadenWeight.length<1)){e.next=70;break}return uni.showToast({title:"未输入车辆总质量, 请输入",icon:"none"}),e.abrupt("return");case 70:if(!(null==t.params.vehicleTonnage||""==t.params.vehicleTonnage||t.params.vehicleTonnage.length<1)){e.next=73;break}return uni.showToast({title:"未输入车辆载质量, 请输入",icon:"none"}),e.abrupt("return");case 73:if(!(null==t.params.vehicleOwnName||""==t.params.vehicleOwnName||t.params.vehicleOwnName.length<1)){e.next=76;break}return uni.showToast({title:"未输入车辆所有人, 请输入",icon:"none"}),e.abrupt("return");case 76:if(!(null==t.params.vehicleOwnType||""==t.params.vehicleOwnType||t.params.vehicleOwnType.length<1)){e.next=79;break}return uni.showToast({title:"未输入车主类型, 请输入",icon:"none"}),e.abrupt("return");case 79:if(!(null==t.params.vehicleRoadcertNo||""==t.params.vehicleRoadcertNo||t.params.vehicleRoadcertNo.length<1)){e.next=82;break}return uni.showToast({title:"未输入道路运输证号, 请输入",icon:"none"}),e.abrupt("return");case 82:return s=uni.getStorageSync("token"),c=t.params,e.next=86,t.$request({url:"/app/vehicle/add",method:"POST",data:c,header:{Authorization:s}});case 86:o=e.sent,console.log(o,"加车"),(o.data.msg="操作成功")?(uni.showToast({title:o.data.msg}),setTimeout((function(){uni.navigateTo({url:"/pages/vehicle_list/vehicle_list"})}),800)):uni.showToast({title:o.data.msg,icon:"none"}),e.next=102;break;case 91:if("修改"!=t.btn_title){e.next=102;break}return s=uni.getStorageSync("token"),l=t.params,u=t.received_info,v={},Object.assign(v,l,u),e.next=99,t.$request({url:"/app/vehicle/edit",method:"PUT",data:v,header:{Authorization:s}});case 99:h=e.sent,console.log(h,"改车"),(h.data.msg="操作成功")?(uni.showToast({title:h.data.msg}),setTimeout((function(){uni.navigateTo({url:"/pages/vehicle_list/vehicle_list"})}),800)):uni.showToast({title:h.data.msg,icon:"none"});case 102:case"end":return e.stop()}}),e)})))()},backBusiness:function(){uni.navigateBack({delta:1})}}};t.default=c},"8f0c":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".current-state[data-v-1b9aa83a]{margin-top:%?10?%;margin-left:%?10?%;margin-bottom:%?25?%;border-left:%?3?% solid #00f;padding-left:%?30?%;color:#000;font-size:%?30?%;font-weight:600;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.current-state .hand-input[data-v-1b9aa83a]{color:#00f;font-size:%?20?%;font-weight:300;margin-right:10%}.two-photos[data-v-1b9aa83a]{width:90%;margin-left:5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-top:%?30?%}.two-photos .id-front[data-v-1b9aa83a]{width:45%;height:%?200?%;text-align:center;position:relative}.two-photos .id-front .title[data-v-1b9aa83a]{position:absolute;width:100%;height:%?30?%;top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.two-photos .id-front uni-image[data-v-1b9aa83a]{position:absolute;width:60%;top:20%;left:20%;height:75%}.two-photos .id-front .tachar[data-v-1b9aa83a]{position:absolute;width:%?60?%;height:%?60?%;left:80%}.notes[data-v-1b9aa83a]{width:100%;padding:5%;border-bottom:%?1?% solid #ddd}.picker-view[data-v-1b9aa83a]{color:#222;width:calc(100vw - %?380?%)}.cu-form-group uni-picker[data-v-1b9aa83a]::after{display:none}.truck-type[data-v-1b9aa83a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.name[data-v-1b9aa83a]{color:#000}.ref-name[data-v-1b9aa83a]{font-size:%?18?%;color:#999}.text-name[data-v-1b9aa83a]{margin-left:5%;margin-bottom:%?20?%}.note-textarea[data-v-1b9aa83a]{margin-left:5%;width:90%;height:%?200?%;background-color:#eee}.cell[data-v-1b9aa83a]{margin-right:%?10?%}.star[data-v-1b9aa83a]{color:red}.img[data-v-1b9aa83a]{width:%?100?%;height:%?50?%}.tachar[data-v-1b9aa83a]{width:%?60?%;height:%?60?%;left:10%}.btn-row[data-v-1b9aa83a]{width:100%;margin-top:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.next-btn[data-v-1b9aa83a]{margin-top:%?20?%;width:30%}.current-btn[data-v-1b9aa83a]{background-color:#0081ff;color:#fff}.disabled-btn[data-v-1b9aa83a]{background-color:#ddd}.picker-view[data-v-1b9aa83a]{color:#222;width:calc(100vw - %?380?%)}.space-line[data-v-1b9aa83a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}",""]),e.exports=t},9462:function(e,t,i){var a=i("8f0c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("9b5f9414",a,!0,{sourceMap:!1,shadowMode:!1})},a53c:function(e,t,i){"use strict";i.r(t);var a=i("7dbd"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},c1fc:function(e,t,i){"use strict";var a=i("9462"),n=i.n(a);n.a}}]);