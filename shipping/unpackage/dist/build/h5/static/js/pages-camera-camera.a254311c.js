(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-camera-camera"],{"8a68":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".live-camera[data-v-00105eea]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.live-camera .menu[data-v-00105eea]{position:absolute;left:0;bottom:0;width:%?750?%;height:%?180?%;z-index:98;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.live-camera .menu .menu-mask[data-v-00105eea]{position:absolute;left:0;bottom:0;width:%?750?%;height:%?180?%;z-index:98}.live-camera .menu .menu-back[data-v-00105eea]{position:absolute;left:%?30?%;bottom:%?50?%;width:%?80?%;height:%?80?%;z-index:99;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.live-camera .menu .menu-snapshot[data-v-00105eea]{width:%?130?%;height:%?130?%;z-index:99}.live-camera .menu .menu-flip[data-v-00105eea]{position:absolute;right:%?30?%;bottom:%?50?%;width:%?80?%;height:%?80?%;z-index:99;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}",""]),e.exports=t},"954b":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"live-camera",style:{width:e.windowWidth,height:e.windowHeight}},[i("v-uni-live-pusher",{ref:"livePusher",staticClass:"livePusher",style:{width:e.windowWidth,height:e.windowHeight},attrs:{id:"livePusher",mode:"FHD",beauty:"0",whiteness:"0",aspect:e.aspect,"min-bitrate":"1000","audio-quality":"16KHz","device-position":"back","auto-focus":!0,muted:!0,"enable-camera":!0,"enable-mic":!1,zoom:!1},on:{statechange:function(t){arguments[0]=t=e.$handleEvent(t),e.statechange.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"menu"},[i("v-uni-cover-image",{staticClass:"menu-mask",attrs:{src:"/static/live-camera/bar.png"}}),i("v-uni-cover-image",{staticClass:"menu-back",attrs:{src:"/static/live-camera/back.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}}),i("v-uni-cover-image",{staticClass:"menu-snapshot",attrs:{src:"/static/live-camera/shutter.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.snapshot.apply(void 0,arguments)}}}),i("v-uni-cover-image",{staticClass:"menu-flip",attrs:{src:"/static/live-camera/flip.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.flip.apply(void 0,arguments)}}})],1)],1)},s=[]},9784:function(e,t,i){var n=i("8a68");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("296d2598",n,!0,{sourceMap:!1,shadowMode:!1})},af16:function(e,t,i){"use strict";i.r(t);var n=i("e88a"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},bde0:function(e,t,i){"use strict";var n=i("9784"),a=i.n(n);a.a},cd95:function(e,t,i){"use strict";i.r(t);var n=i("954b"),a=i("af16");for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("bde0");var c,o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"00105eea",null,!1,n["a"],c);t["default"]=r.exports},e88a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null,a={data:function(){return{poenCarmeInterval:null,aspect:"2:3",windowWidth:"",windowHeight:"",camerastate:!1,livePusher:null,snapshotsrc:null}},onLoad:function(e){n=this,this.initCamera()},onReady:function(){this.livePusher=uni.createLivePusherContext("livePusher",this),this.startPreview(),this.poenCarme()},methods:{poenCarme:function(){},initCamera:function(){uni.getSystemInfo({success:function(e){n.windowWidth=e.windowWidth,n.windowHeight=e.windowHeight;var t=n.aliquot(n.windowWidth,n.windowHeight);n.aspect=n.windowWidth/t+":"+n.windowHeight/t}})},aliquot:function(e,t){return e%t==0?t:this.aliquot(t,e%t)},startPreview:function(){this.livePusher.startPreview({success:function(e){console.log(e)}})},stopPreview:function(){this.livePusher.stopPreview({success:function(e){n.camerastate=!1}})},statechange:function(e){console.log(e),1007==e.detail.code?n.camerastate=!0:-1301==e.detail.code&&(n.camerastate=!1)},back:function(){uni.navigateBack()},snapshot:function(){this.livePusher.snapshot({success:function(e){n.snapshotsrc=e.message.tempImagePath,n.stopPreview(),n.setImage(),uni.navigateBack()}})},flip:function(){this.livePusher.switchCamera()},setImage:function(){var e=getCurrentPages(),t=e[e.length-2];t.$vm.setImage({path:n.snapshotsrc})}}};t.default=a}}]);