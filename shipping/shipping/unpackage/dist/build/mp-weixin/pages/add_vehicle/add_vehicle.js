(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/add_vehicle/add_vehicle","components/xfl-select/xfl-select"],{"00e2":function(e,t,i){"use strict";i.r(t);var n=i("db1a"),a=i("db74");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("6b9a");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"4a8a7d3a",null,!1,n["a"],s);t["default"]=c.exports},"588c":function(e,t,i){"use strict";var n=i("5ca0"),a=i.n(n);a.a},"5ca0":function(e,t,i){},"6b9a":function(e,t,i){"use strict";var n=i("954e"),a=i.n(n);a.a},"7cc7":function(e,t,i){"use strict";i.r(t);var n=i("9bd1"),a=i("a53c");for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("588c");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"43771d4f",null,!1,n["a"],s);t["default"]=c.exports},"954e":function(e,t,i){},"9bd1":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var n={uniNumberBox:function(){return i.e("uni_modules/uni-number-box/components/uni-number-box/uni-number-box").then(i.bind(null,"5ccc"))}},a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.driving_cert_register_date_has_input=!0},e.e1=function(t){e.driving_cert_issuing_date_has_input=!0},e.e2=function(t){e.driving_cert_expiry_date_has_input=!0},e.e3=function(t){e.road_cert_expiry_date_has_input=!0})},r=[]},"9e9b":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=s(i("a34a")),r=(s(i("00e2")),i("2e4a"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(l){return void i(l)}o.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var r=e.apply(t,i);function s(e){o(r,n,a,s,c,"next",e)}function c(e){o(r,n,a,s,c,"throw",e)}s(void 0)}))}}var l={data:function(){var e=this.getDate({format:!0});return{isPerson:!1,disabled:!0,active:!1,received_info:[],plate_number:"",vehicleOwnName:"",vehicle_brand:"",vehicleRoadcertNo:"",vehicleLadenWeight:"",vehicleTonnage:"",params:{},vin:"",imgDriverLicenseUrl:"/static/id-front.png",imgTransportLicenseUrl:"/static/TransportLicense.png",imgVehicleLicenseFirstUrl:"/static/vehicle_license.jpg",imgVehicleLicenseSecondUrl:"/static/id-front.png",imgDraggingCarPhotoUrl:"/static/id-front.png",imgDraggingTransportPhotoUrl:"/static/id-front.png",imgHangingCarPhotoUrl:"/static/vehicle_license.jpg",imgPeopleVehicleUrl:"/static/people_vehicle.jpg",tachar_driver_license:!1,tachar_transport_license:!1,tachar_vehicle_license_first:!1,tachar_vehicle_license_second:!1,tachar_dragging_car:!1,tachar_dragging_transport:!1,tachar_hanging_car:!1,tachar_people_vehicle:!1,is_ordinary:!1,plate_type_index:1,plate_color_index:0,list:["黄牌"],owner_type_index:0,owner_type_list:["个人","企业"],plate_type_list:["小型汽车号牌","大型汽车号牌","其他号牌"],car_items:[{value:"ordinary",name:"普通货车"},{value:"semi-camion",name:"半挂车"}],car_current:1,energy_items:[{value:"new",name:"新能源"},{value:"old",name:"非新能源"}],energy_current:1,energy_type:"非新能源",vehicleTypeOptions:[],vehicleOwnTypeOptions:[],vehicleEnergyTypeOptions:[],vehicleEnergyTypeSendValue:[],vehicleTypeSendValue:[],vehicleCargoBoxLengthOptions:[],vehicleCargoBoxLengthSendValue:[],vehicleCargoBoxTypeOptions:[],vehicleCargoBoxTypeSendValue:[],vehicleAxlenum:"",vehicleLength:"",vehicleWidth:"",vehicleHeight:"",trailerPlateNumber:"",driverId:"",vehicleUserCharacter:"",vehicleIssuingOrganizations:"",btn_title:"",car_type_list:[],car_type_index:0,energy_type_list:[],energy_type_index:0,box_length_list:[],box_length_index:0,box_type_list:[],box_type_index:0,driving_cert_register_date:e,driving_cert_issuing_date:e,driving_cert_expiry_date:e,road_cert_expiry_date:e,driving_cert_register_date_has_input:!1,driving_cert_issuing_date_has_input:!1,driving_cert_expiry_date_has_input:!1,road_cert_expiry_date_has_input:!1}},computed:{endDate:function(){return this.getDate("end")}},components:{},onLoad:function(t){this.btn_title=t.btn_title,"修改"!=this.btn_title&&"查看"!=this.btn_title||(this.received_info=e.getStorageSync("vehicle_item"),console.log(this.received_info,"111")),this.getCarTypes(),this.getVehicleOwnTypeOptions(),this.getVehiclePlateTypeOptions(),this.getVehiclePlateColorOptions(),this.getVehicleEnergyTypeOptions(),this.getVehicleTypeOptions(),this.getVehicleCargoBoxLengthOptions(),this.getCargoBoxType()},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params.whetherNewEnergy=2,"修改"!=this.btn_title&&"查看"!=this.btn_title||(this.imgVehicleLicenseFirstUrl="http://10.22.2.138:8080"+this.received_info.vehicleLicensePhotoFirst,this.plate_number=this.received_info.vehiclePlateNumber,this.vehicleOwnName=this.received_info.vehicleOwnName,this.owner_type_index=this.received_info.vehicleOwnType,this.vehicle_brand=this.received_info.vehicleBrands,this.vehicleRoadcertNo=this.received_info.vehicleRoadcertNo,this.received_info.vehicleRegisterDate&&(this.driving_cert_register_date=this.received_info.vehicleRegisterDate||this.getDate({format:!0}),this.driving_cert_register_date_has_input=!0),this.received_info.vehicleIssueDate&&(this.driving_cert_issuing_date=this.received_info.vehicleIssueDate||this.getDate({format:!0}),this.driving_cert_issuing_date_has_input=!0),this.received_info.vehicleLicenseExpireDate&&(this.driving_cert_expiry_date=this.received_info.vehicleLicenseExpireDate||this.getDate({format:!0}),this.driving_cert_expiry_date_has_input=!0),this.received_info.vehicleRoadcertExpireDate&&(this.road_cert_expiry_date=this.received_info.vehicleRoadcertExpireDate||this.getDate({format:!0}),this.road_cert_expiry_date_has_input=!0),this.vehicleLadenWeight=this.received_info.vehicleLadenWeight,this.vehicleTonnage=this.received_info.vehicleTonnage,this.vehicleAxlenum=this.received_info.vehicleAxlenum,this.vehicleLength=this.received_info.vehicleLength,this.vehicleWidth=this.received_info.vehicleWidth,this.vehicleHeight=this.received_info.vehicleHeight,this.trailerPlateNumber=this.received_info.trailerPlateNumber,this.vehicleUserCharacter=this.received_info.vehicleUserCharacter,this.vehicleIssuingOrganizations=this.received_info.vehicleIssuingOrganizations,this.vin=this.received_info.vehicleVincode,this.disabled=!1,this.active=!0)},mounted:function(){e.setNavigationBarTitle({title:"".concat(this.btn_title,"车辆")})},methods:{getDate:function(e){var t=new Date,i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=20),n=n>9?n:"0"+n,a=a>9?a:"0"+a,"".concat(i,"-").concat(n,"-").concat(a)},getVehicleOwnName:function(e){this.vehicleOwnName=e.target.value,this.params.vehicleOwnName=e.target.value},bindPickerEnergyTypeChange:function(e){console.log("picker发送选择改变，携带值为EnergyType",e.target.value),this.energy_type_index=e.target.value;var t=this.energy_type_index;console.log(this.energy_type_index,"车辆能源类型后台序数"),this.params.vehicleEnergyType=this.vehicleEnergyTypeSendValue[t-1],console.log(this.params.vehicleEnergyType,"车辆能源类型后台值")},bindPickerTypeChange:function(e){console.log("picker发送选择改变，携带值为车主类型",e.target.value),this.owner_type_index=e.target.value,this.params.vehicleOwnType=this.owner_type_index},bindPickerCarTypeChange:function(e){console.log("picker发送选择改变，携带值为车辆类型",e.target.value),this.car_type_index=e.target.value;var t=this.car_type_index;this.params.vehicleType=this.vehicleTypeSendValue[t-1],console.log(this.params.vehicleType,"车辆类型后台值")},detailImage:function(e,t){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new plus.io.FileReader;i.readAsDataURL(e),i.onloadend=function(e){t(e.target.result)}}))}))},bindPickerColorChange:function(e){console.log("picker发送选择改变，携带值为",e),this.plate_color_index=e.target.value,0==e.target.value&&(this.params.vehiclePlateColor="2"),this.plate_color_index=0,this.params.vehiclePlateColor="2"},bindPickerChange:function(e){console.log("picker发送选择改变01，携带值为",e.target.value),this.plate_type_index=e.target.value,0==e.target.value?this.params.vehiclePlateType="02":1==e.target.value?this.params.vehiclePlateType="01":2==e.target.value&&(this.params.vehiclePlateType="99")},bindPickercargoBoxLengthChange:function(e){console.log("picker发送选择改变，携带值为BoxLength",e.target.value),this.box_length_index=e.target.value;var t=this.box_length_index-1;this.params.cargoBoxLength=this.vehicleCargoBoxLengthSendValue[t]},bindPickercargoBoxTypeChange:function(e){console.log("picker发送选择改变，携带值为BoxType",e.target.value),this.box_type_index=e.target.value,this.params.cargoBoxType=e.target.value},getTrailerPlateNumber:function(e){this.params.trailerPlateNumber=e.detail.value},getDriverId:function(e){this.params.driverId=e.detail.value},getVehicleUserCharacter:function(e){this.params.vehicleUserCharacter=e.detail.value},getVehicleIssuingOrganizations:function(e){this.params.vehicleIssuingOrganizations=e.detail.value},getCarTypes:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("iscm_vehicle_species");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleOwnTypeOptions:function(){var e=this;return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_own_type");case 2:i=t.sent,e.vehicleOwnTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.owner_type_list=e.vehicleOwnTypeOptions,e.owner_type_list.unshift("请选择车主类型");case 6:case"end":return t.stop()}}),t)})))()},getVehiclePlateTypeOptions:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_type");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehiclePlateColorOptions:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_color");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleEnergyTypeOptions:function(){var e=this;return c(a.default.mark((function t(){var i,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_energy_type");case 2:i=t.sent,e.vehicleEnergyTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.energy_type_list=e.vehicleEnergyTypeOptions,e.energy_type_list.unshift("请选择车辆能源类型"),e.vehicleEnergyTypeSendValue=i.data.data.map((function(e){return e.dictValue})),n=e.received_info.vehicleEnergyType,e.energy_type_index=e.vehicleEnergyTypeSendValue.findIndex((function(e){return e==n}))+1;case 9:case"end":return t.stop()}}),t)})))()},getVehicleTypeOptions:function(){var e=this;return c(a.default.mark((function t(){var i,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_type");case 2:i=t.sent,e.vehicleTypeOptions=i.data.data.map((function(e){return e.dictLabel})),e.car_type_list=e.vehicleTypeOptions,e.car_type_list.unshift("请选择车辆类型"),e.vehicleTypeSendValue=i.data.data.map((function(e){return e.dictValue})),n=e.received_info.vehicleType,e.car_type_index=e.vehicleTypeSendValue.findIndex((function(e){return e==n}))+1;case 9:case"end":return t.stop()}}),t)})))()},getVehicleCargoBoxLengthOptions:function(){var e=this;return c(a.default.mark((function t(){var i,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_length");case 2:i=t.sent,e.vehicleCargoBoxLengthOptions=i,e.vehicleCargoBoxLengthOptions=e.vehicleCargoBoxLengthOptions.data.data.map((function(e){return e.dictLabel})),e.box_length_list=e.vehicleCargoBoxLengthOptions,e.box_length_list.unshift("请选择货箱长度"),e.vehicleCargoBoxLengthSendValue=i.data.data.map((function(e){return e.dictValue})),n=e.received_info.cargoBoxLength,e.box_length_index=e.vehicleCargoBoxLengthSendValue.findIndex((function(e){return e==n}))+1;case 10:case"end":return t.stop()}}),t)})))()},getCargoBoxType:function(){var e=this;return c(a.default.mark((function t(){var i,n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_cargo_box_type");case 2:i=t.sent,e.vehicleCargoBoxTypeOptions=i,e.vehicleCargoBoxTypeOptions=e.vehicleCargoBoxTypeOptions.data.data.map((function(e){return e.dictLabel})),e.vehicleCargoBoxTypeSendValue=i.data.data.map((function(e){return e.dictValue})),e.box_type_list=e.vehicleCargoBoxTypeOptions,e.box_type_list.unshift("请选择货箱类型"),n=e.received_info.cargoBoxType,e.box_type_index=e.vehicleCargoBoxTypeSendValue.findIndex((function(e){return e==n}))+1;case 10:case"end":return t.stop()}}),t)})))()},radioEnergyChange:function(e){console.log(e.target.value,"energy"),"new"===e.target.value?(this.energy_type="新能源",this.params.whetherNewEnergy=1):(this.energy_type="非新能源",this.params.whetherNewEnergy=2)},radioCarChange:function(e){console.log(e.target.value,"car"),"ordinary"==e.target.value?(this.is_ordinary=!0,this.params.vehicleSpecies=103):(this.is_ordinary=!1,this.params.vehicleSpecies=303)},getCarNo:function(e){this.plate_number=e.detail.value,this.params.vehiclePlateNumber=e.detail.value},checkCarNo:function(){var t=this;return c(a.default.mark((function i(){var n,r,s;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.getStorageSync("token"),r=t.plate_number,i.next=4,t.$request({url:"/app/vehicle/getByPlateNumber/"+r,method:"GET",header:{Authorization:n}});case 4:s=i.sent,s.data.hasOwnProperty("data")?e.showToast({title:"该车牌号已被注册过,可直接绑定！",icon:"none"}):e.showToast({title:"该车牌号尚未被注册过,请继续！",icon:"none"});case 6:case"end":return i.stop()}}),i)})))()},getCarBrand:function(e){this.vehicle_brand=e.detail.value,this.params.vehicleBrands=e.detail.value},getPlateColor:function(e){"黄牌"==e.newVal&&(this.params.vehiclePlateColor="2")},bindDateChange:function(e){"driving_cert_register_date"==e.currentTarget.dataset.index?(this.driving_cert_register_date=e.target.value,this.params.vehicleRegisterDate=this.driving_cert_register_date,this.driving_cert_register_date_has_input=!0):"driving_cert_issuing_date"==e.currentTarget.dataset.index?(this.driving_cert_issuing_date=e.target.value,this.params.vehicleIssueDate=this.driving_cert_issuing_date,this.driving_cert_issuing_date_has_input=!0):"driving_cert_expiry_date"==e.currentTarget.dataset.index?(this.driving_cert_expiry_date=e.target.value,this.params.vehicleLicenseExpireDate=this.driving_cert_expiry_date,this.driving_cert_expiry_date_has_input=!0):"road_cert_expiry_date"==e.currentTarget.dataset.index&&(this.road_cert_expiry_date=e.target.value,this.params.vehicleRoadcertExpireDate=this.road_cert_expiry_date,this.road_cert_expiry_date_has_input=!0)},getVehicleWeight:function(e){this.vehicleLadenWeight=e.detail.value,this.params.vehicleLadenWeight=e.detail.value},getRatingWeight:function(e){this.vehicleTonnage=e.detail.value,this.params.vehicleTonnage=e.detail.value,this.disabled=!1,this.active=!0},getRoadTransportNo:function(e){this.params.vehicleRoadcertNo=e.detail.value},getVehicleVinCode:function(e){this.params.vehicleVincode=e.detail.value},getVehicleAxlenum:function(e){this.params.vehicleAxlenum=e},getVehicleLength:function(e){this.params.vehicleLength=e.detail.value},getVehicleWidth:function(e){this.params.vehicleWidth=e.detail.value},getVehicleHeight:function(e){this.params.vehicleHeight=e.detail.value},takephoto:function(e){var t=this;return c(a.default.mark((function i(){return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=t,"vehicle_license_first"!=e.currentTarget.dataset.index){i.next=7;break}return i.next=4,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgVehicleLicenseFirstUrl=i[0],n.tachar_vehicle_license_first=!0,t.next=5,n.$upload({url:r.ossLocation.vehicle.first,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 4:i.sent,i.next=29;break;case 7:if("vehicle_license_second"!=e.currentTarget.dataset.index){i.next=13;break}return i.next=10,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgVehicleLicenseSecondUrl=i[0],n.tachar_vehicle_license_second=!0,t.next=5,n.$upload({url:r.ossLocation.vehicle.second,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 10:i.sent,i.next=29;break;case 13:if("vehicle_transport_license"!=e.currentTarget.dataset.index){i.next=19;break}return i.next=16,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgTransportLicenseUrl=i[0],n.tachar_transport_license=!0,t.next=5,n.$upload({url:r.ossLocation.vehicle.road,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 16:i.sent,i.next=29;break;case 19:if("trailer_license_photo_first"!=e.currentTarget.dataset.index){i.next=25;break}return i.next=22,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgHangingCarPhotoUrl=i[0],n.tachar_hanging_car=!0,t.next=5,n.$upload({url:r.ossLocation.trailer.first,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 22:i.sent,i.next=29;break;case 25:if("people_vehicle_photo"!=e.currentTarget.dataset.index){i.next=29;break}return i.next=28,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,n.imgPeopleVehicleUrl=i[0],n.tachar_people_vehicle=!0,t.next=5,n.$upload({url:r.ossLocation.vehicle.rc,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 28:i.sent;case 29:case"end":return i.stop()}}),i)})))()},uploadDriverLicense:function(){n=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;n.imgDriverLicenseUrl=i[0],n.tachar_driver_license=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"})}});a.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingCarPhoto:function(){n=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;n.imgDraggingCarPhotoUrl=i[0],n.tachar_dragging_car=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"}),n.disabled=!1,n.active=!0}});a.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingTransportPhoto:function(){n=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;n.imgDraggingTransportPhotoUrl=i[0],n.tachar_dragging_transport=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"}),n.disabled=!1,n.active=!0}});a.onProgressUpdate((function(e){n.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},cancelHangingCar:function(){this.imgHangingCarPhotoUrl="/static/vehicle_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_hanging_car=!1},cancelDraggingCar:function(){this.imgDraggingCarPhotoUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_car=!1},cancelDraggingTransport:function(){this.imgDraggingTransportPhotoUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_transport=!1},cancelDriverLicense:function(){this.imgDriverLicenseUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_license=!1},cancelTransportLicense:function(){this.imgTransportLicenseUrl="/static/TransportLicense.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_transport_license=!1},cancelVehicleLicenseFirst:function(){this.imgVehicleLicenseFirstUrl="/static/vehicle_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_first=!1},cancelVehicleLicenseSecond:function(){this.imgVehicleLicenseSecondUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_second=!1},cancelPeopleVehicle:function(){this.imgPeopleVehicleUrl="/static/people_vehicle.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_people_vehicle=!1},goQuery:function(){},formSubmit:function(t){var i=this;return c(a.default.mark((function t(){var n,r,s,o,c,l,h,u,p,d,g;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("添加"!=i.btn_title){t.next=91;break}if(i.params.vehicleLicensePhotoFirst=e.getStorageSync("vehicleLicensePhotoFirst"),(null==i.params.vehicleLicensePhotoFirst||""==i.params.vehicleLicensePhotoFirst||i.params.vehicleLicensePhotoFirst.length<1)&&e.showToast({title:"请提交车辆行驶证主副页",icon:"none"}),i.params.vehicleRoadcertPhoto=e.getStorageSync("vehicleRoadcertPhoto"),(null==i.params.vehicleRoadcertPhoto||""==i.params.vehicleRoadcertPhoto||i.params.vehicleRoadcertPhoto.length<1)&&e.showToast({title:"请提交道路运输证",icon:"none"}),(null==i.params.whetherNewEnergy||""==i.params.whetherNewEnergy||i.params.whetherNewEnergy.length<1)&&(i.params.whetherNewEnergy=2),(null==i.params.vehicleSpecies||""==i.params.vehicleSpecies||i.params.vehicleSpecies.length<1)&&(i.params.vehicleSpecies=303),(null==i.params.vehiclePlateType||""==i.params.vehiclePlateType||i.params.vehiclePlateType.length<1)&&(i.params.vehiclePlateType="02"),(null==i.params.vehiclePlateColor||""==i.params.vehiclePlateColor||i.params.vehiclePlateColor.length<1)&&(i.params.vehiclePlateColor="2"),n=i.params.vehiclePlateNumber,r=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF]))|[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,s=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF])))$/,o=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,r.test(n)){t.next=19;break}return e.showToast({title:"车牌号不正确",icon:"none"}),i.plate_num="",t.abrupt("return");case 19:if(!s.test(n)){t.next=23;break}"新能源"==i.energy_type?(console.log("车牌号正确"),e.setStorageSync("params_vehicle",i.params),i.$emit("register_vehicle_params",i.params)):e.showToast({title:"车牌号不正确，请确认是否为新能源车",icon:"none"}),t.next=33;break;case 23:if(!o.test(n)){t.next=33;break}if("非新能源"!=i.energy_type){t.next=30;break}console.log("车牌号正确"),e.setStorageSync("params_vehicle",i.params),i.$emit("register_vehicle_params",i.params),t.next=33;break;case 30:return e.showToast({title:"车牌号不正确，请确认是否为非新能源车",icon:"none"}),i.plate_num="",t.abrupt("return");case 33:if(!(null==i.params.cargoBoxType||""==i.params.cargoBoxType||i.params.cargoBoxType.length<1)){t.next=36;break}return e.showToast({title:"未输入货箱类型, 请输入",icon:"none"}),t.abrupt("return");case 36:if(!(null==i.params.vehicleAxlenum||""==i.params.vehicleAxlenum||i.params.vehicleAxlenum.length<1)){t.next=39;break}return e.showToast({title:"未输入车轴数, 请输入",icon:"none"}),t.abrupt("return");case 39:if(!(null==i.params.vehicleBrands||""==i.params.vehicleBrands||i.params.vehicleBrands.length<1)){t.next=42;break}return e.showToast({title:"未输入车辆品牌, 请输入",icon:"none"}),t.abrupt("return");case 42:if(!(null==i.params.vehicleEnergyType||""==i.params.vehicleEnergyType||i.params.vehicleEnergyType.length<1)){t.next=45;break}return e.showToast({title:"未输入车辆能源类型, 请输入",icon:"none"}),t.abrupt("return");case 45:if(!(i.params.vehicleLadenWeight<4.5)){t.next=61;break}if(!(null==i.params.vehicleIssueDate||""==i.params.vehicleIssueDate||i.params.vehicleIssueDate.length<1)){t.next=49;break}return e.showToast({title:"未输入行驶证发证日期, 请输入",icon:"none"}),t.abrupt("return");case 49:if(!(null==i.params.vehicleIssuingOrganizations||""==i.params.vehicleIssuingOrganizations||i.params.vehicleIssuingOrganizations.length<1)){t.next=52;break}return e.showToast({title:"未输入发证机关, 请输入",icon:"none"}),t.abrupt("return");case 52:if(!(null==i.params.vehicleRegisterDate||""==i.params.vehicleRegisterDate||i.params.vehicleRegisterDate.length<1)){t.next=55;break}return e.showToast({title:"未输入行驶证注册日期, 请输入",icon:"none"}),t.abrupt("return");case 55:if(!(null==i.params.vehicleUserCharacter||""==i.params.vehicleUserCharacter||i.params.vehicleUserCharacter.length<1)){t.next=58;break}return e.showToast({title:"未输入使用性质, 请输入",icon:"none"}),t.abrupt("return");case 58:if(!(null==i.params.vehicleVincode||""==i.params.vehicleVincode||i.params.vehicleVincode.length<1)){t.next=61;break}return e.showToast({title:"未输入车辆识别代号, 请输入",icon:"none"}),t.abrupt("return");case 61:if(!(null==i.params.vehicleLicenseExpireDate||""==i.params.vehicleLicenseExpireDate||i.params.vehicleLicenseExpireDate.length<1)){t.next=64;break}return e.showToast({title:"未输入行驶证失效日期, 请输入",icon:"none"}),t.abrupt("return");case 64:if(!(null==i.params.vehicleRoadcertExpireDate||""==i.params.vehicleRoadcertExpireDate||i.params.vehicleRoadcertExpireDate.length<1)){t.next=67;break}return e.showToast({title:"未输入运输证到期日期, 请输入",icon:"none"}),t.abrupt("return");case 67:if(!(null==i.params.vehicleLadenWeight||""==i.params.vehicleLadenWeight||i.params.vehicleLadenWeight.length<1)){t.next=70;break}return e.showToast({title:"未输入车辆总质量, 请输入",icon:"none"}),t.abrupt("return");case 70:if(!(null==i.params.vehicleTonnage||""==i.params.vehicleTonnage||i.params.vehicleTonnage.length<1)){t.next=73;break}return e.showToast({title:"未输入车辆载质量, 请输入",icon:"none"}),t.abrupt("return");case 73:if(!(null==i.params.vehicleOwnName||""==i.params.vehicleOwnName||i.params.vehicleOwnName.length<1)){t.next=76;break}return e.showToast({title:"未输入车辆所有人, 请输入",icon:"none"}),t.abrupt("return");case 76:if(!(null==i.params.vehicleOwnType||""==i.params.vehicleOwnType||i.params.vehicleOwnType.length<1)){t.next=79;break}return e.showToast({title:"未输入车主类型, 请输入",icon:"none"}),t.abrupt("return");case 79:if(!(null==i.params.vehicleRoadcertNo||""==i.params.vehicleRoadcertNo||i.params.vehicleRoadcertNo.length<1)){t.next=82;break}return e.showToast({title:"未输入道路运输证号, 请输入",icon:"none"}),t.abrupt("return");case 82:return c=e.getStorageSync("token"),l=i.params,t.next=86,i.$request({url:"/app/vehicle/add",method:"POST",data:l,header:{Authorization:c}});case 86:h=t.sent,console.log(h,"加车"),(h.data.msg="操作成功")?(e.showToast({title:h.data.msg}),setTimeout((function(){e.navigateTo({url:"/pages/vehicle_list/vehicle_list"})}),800)):e.showToast({title:h.data.msg,icon:"none"}),t.next=102;break;case 91:if("修改"!=i.btn_title){t.next=102;break}return c=e.getStorageSync("token"),u=i.params,p=i.received_info,d={},Object.assign(d,u,p),t.next=99,i.$request({url:"/app/vehicle/edit",method:"PUT",data:d,header:{Authorization:c}});case 99:g=t.sent,console.log(g,"改车"),(g.data.msg="操作成功")?(e.showToast({title:g.data.msg}),setTimeout((function(){e.navigateTo({url:"/pages/vehicle_list/vehicle_list"})}),800)):e.showToast({title:g.data.msg,icon:"none"});case 102:case"end":return t.stop()}}),t)})))()},backBusiness:function(){e.navigateBack({delta:1})}}};t.default=l}).call(this,i("543d")["default"])},a53c:function(e,t,i){"use strict";i.r(t);var n=i("9e9b"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},b6a1:function(e,t,i){"use strict";(function(e){i("c5c7");n(i("66fd"));var t=n(i("7cc7"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},db1a:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=[]},db74:function(e,t,i){"use strict";i.r(t);var n=i("fcdc"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},fcdc:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("66fd"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function c(e,t){return d(e)||p(e,t)||h(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(i.push(s.value),t&&i.length===t)break}catch(c){a=!0,r=c}finally{try{n||null==o["return"]||o["return"]()}finally{if(a)throw r}}return i}}function d(e){if(Array.isArray(e))return e}n.default.__xfl_select=n.default.__xfl_select||new n.default;var g={name:"xfl-select",props:{list:{type:Array,default:function(){return[]}},list2:{type:Array,default:function(){return[]}},focusShowList:null,initValue:null,isCanInput:{type:Boolean,default:!1},selectHideType:{type:String,default:"hideAll"},placeholder:{type:String,default:"请选择"},style_Container:{type:String,default:""},disabled:{type:Boolean,default:!1},showItemNum:{type:Number,default:5},listShow:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0}},data:function(){return{isShowList:!1,selectText:"",activeIndex:-1,isRotate:!1,listTop__:50}},watch:{listShow:function(e,t){this.onDataChange_listShow(e,t)}},computed:{focusShowList__:function(){return null!=this.focusShowList&&this.focusShowList},listBoxHeight__:function(){var e=2;return this.showItemNum*e},showInput:function(){return this.isCanInput&&!this.disabled},innerList:function(){var e=[],t=this.list;return t.forEach((function(t,i){var n="object"===typeof t&&"value"in t?t.value:t,a="object"===typeof t&&1==t.disabled;e.push({isActive:!1,value:n,disabled:a})})),e}},mounted:function(){n.default.__xfl_select.$on("open",this.onOtherXflSelectOpen),this.switchMgr=new f(this.onListShow,this.onListHide),this.onDataChange_listShow(this.listShow,null),this.init()},beforeDestroy:function(){n.default.__xfl_select.$off("open",this.onOtherXflSelectOpen)},methods:{onOtherXflSelectOpen:function(e){"independent"!==this.selectHideType&&"hideOthers"!==this.selectHideType&&e!==this&&this.switchMgr.close(100)},init:function(){this.clearInput(),this.setInput(this.initValue),this.changeActiveIndex(this.initValue),this.getInputBoxHeight()},getInputBoxHeight:function(){var e=this,t=this;v(".show-box",t,(function(t){if(t){var i=6;e.listTop__=t[0].height+i}}))},getIndex:function(e){var t=_(this.innerList,e,"value");return t},itemIsDisabled:function(e){return this.innerList[e].disabled},itemIsActive:function(e){return e===this.activeIndex},onDataChange_listShow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.switchMgr.open():this.switchMgr.close(100)},onFocus:function(e){this.focusShowList__&&this.switchMgr.open(),this.$emit("focus",e)},onBlur:function(e){this.focusShowList__&&this.switchMgr.close(100),this.$emit("blur",e)},onUpperClick:function(){this.disabled||(this.switchMgr.toggle("auto",-1,100),this.$emit("input-click"))},onClear:function(){this.clearItemActive(),this.clearInput(),this.$emit("clear")},onInput:function(e){var t=e.detail.value;this.changeActiveIndex(t),this.$emit("input",e)},clearInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.placeholder=null==e?this.placeholder:e,this.selectText=this.showInput?"":this.placeholder},setInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this.selectText=e)},changeActiveIndex:function(e){if(null!=e){var t=e,i=e;"number"!==typeof e?t=this.getIndex(i):i=this.innerList[t].value,t>-1?!this.itemIsActive(t)&&this.setItemActive(t,i):this.clearItemActive(),this.setInput(i)}},clearItemActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;e<0&&(this.activeIndex=-1)},setItemActive:function(e,t){this.itemIsDisabled(e)||(this.activeIndex=e)},onListClick:function(){},onClickItem:function(e,t){this.itemIsDisabled(e)?this.switchMgr.open():(this.switchMgr.close(100),this.disabled||this.itemIsActive(e)||(this.clearItemActive(),this.setItemActive(e,t),this.$emit("change",{newVal:t,oldVal:this.selectText,index:e,orignItem:this.list[e]}),this.setInput(t)))},onListHide:function(){this.isRotate=!1,this.isShowList=!1,this.$emit("visible-change",!1)},onListShow:function(){this.isShowList=!0,this.isRotate=!0,this.$emit("visible-change",!0),"independent"!==this.selectHideType&&"hideSelf"!==this.selectHideType&&n.default.__xfl_select.$emit("open",this)}}};function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.selector,a=void 0===i?"selector":i,r=t.component,s=void 0===r?null:r,o=t.attemptSpaceTime,l=void 0===o?16:o,h=t.attemptSpaceRate,u=void 0===h?1.5:h,p=t.totalAttemptNum,d=void 0===p?8:p,g=t.id,v=void 0===g||g,f=t.dataset,_=void 0===f||f,m=t.rect,y=void 0===m||m,b=t.size,T=void 0===b||b,w=t.scrollOffset,L=void 0===w||w,S=t.properties,O=void 0===S?[]:S,k=t.computedStyle,P=void 0===k?[]:k,I=t.context,C=void 0===I||I,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=arguments;a="string"===typeof A[0]?A[0]:String(a),"function"!==typeof A[1]&&(s=A[1],V=A[2],D=A[3]),!s instanceof n.default&&(s=null);var B={selector:a,attemptSpaceTime:l,totalAttemptNum:d,attemptSpaceRate:u,id:v,dataset:_,rect:y,size:T,scrollOffset:L,properties:O,computedStyle:P,context:C},N=e.createSelectorQuery();s&&N.in(s);var E,U="viewport"===a?N.selectViewport():N.selectAll(a);return U.fields(B),"function"!==typeof V&&(E=new Promise((function(e){return V=e}))),x((function(e,t){N.exec((function(i){var n=c(i,1),a=n[0];a&&0===a.length&&(a=null),a||d<=t?"function"===typeof V&&V.call(D,a):e(l),l=Math.round(l*u)}))}))(),E}t.default=g;var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.onopen=t,this.onclose=i,this.isOpen=!1}return o(e,[{key:"toggle",value:function(){var e,t,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";"close"!==a&&"open"!==a&&(a=this.isOpen?"close":"open");for(var r,s=0;s<(arguments.length<=1?0:arguments.length-1);s++)switch(r=s+1<1||arguments.length<=s+1?void 0:arguments[s+1],typeof r){case"number":null==e?e=r:t=r;break;case"string":null==i?i=r:n=r;break}var o="open"===a?e:t,c="open"===a?i:n;this.change(a,null==o?-1:o,null==c?"both":c)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("open",e,t)}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("close",e,t)}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both";"open"===e?(clearTimeout(this.openTimer),this.openTimer=null):"close"===e?(clearTimeout(this.closeTimer),this.closeTimer=null):"both"===e&&(clearTimeout(this.closeTimer),this.closeTimer=null,clearTimeout(this.openTimer),this.openTimer=null)}},{key:"change",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(this.cancel(n),!(this.isOpen&&"open"===e||!this.isOpen&&"close"===e)){var a="on"+e;i<0?(this.isOpen="open"===e,"function"===typeof this[a]&&this[a]()):this[e+"Timer"]=setTimeout((function(){t.isOpen="open"===e,"function"===typeof t[a]&&t[a]()}),i)}}}]),e}();function _(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=-1;return i&&("string"===typeof i?i=i.split(/\s*[\,\.]\s*/):Array.isArray(i)||(i="")),m(e,(function(e,r,s){if(i&&(e=y(e,i)),"function"===typeof n?n(e,t,arrElem,r,s):e===t)return a=r,!1})),a}function m(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e||"function"===typeof e||"function"!==typeof t)return e;var n=Object.keys(e),a=e.length,r="number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991;if(r){for(var s,o=/^(?:0|[1-9]\d*)$/,c=9007199254740991,l=[],h=0;h<n.length;h++)s=n[h],o.test(s)&&+s<=c&&l.push(s);n=l}for(var u=0;u<n.length;u++)if(!1===t.call(i,e[n[u]],n[u],e))break;return e}function y(e,t){for(var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=0,s=e,o=t.length;r<o;r++){if(!s||"object"!==typeof s)return;if(i=t[r],r===o-1){if(void 0===n)return s[i];s[i]=n}else{if(!s[i]||"object"!==typeof s[i]){if(!a||void 0===n)return;s[i]={}}s=s[i]}}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=function(e){return e=parseInt(e),!isNaN(e)&&isFinite(e)||(e=-1),e},n=[],a=function(e){if(null==e){for(var t=0;t<n.length;t++)clearTimeout(n[t]);n.length=0}else{var i=n.indexOf(e);i>-1&&(clearTimeout(n[i]),n.splice(i,1))}},r=0,s=function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if("new"===c)a();else if("old"===c&&n.length>0)return;if(o=i(o),o<0)e.call(t,s,++r,n);else{var l=setTimeout((function(){a(l),e.call(t,s,++r,n)}),o);n.push(l)}};return s}}).call(this,i("543d")["default"])}},[["b6a1","common/runtime","common/vendor"]]]);