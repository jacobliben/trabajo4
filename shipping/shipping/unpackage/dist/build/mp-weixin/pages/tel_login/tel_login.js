(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tel_login/tel_login"],{"2d5d":function(e,t,n){"use strict";n.r(t);var r=n("c768"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},7085:function(e,t,n){"use strict";(function(e){n("c5c7");r(n("66fd"));var t=r(n("d115"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"8dba":function(e,t,n){"use strict";var r=n("a266"),o=n.n(r);o.a},a266:function(e,t,n){},c768:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("a34a")),o=n("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,o,a,u){try{var i=e[a](u),c=i.value}catch(s){return void n(s)}i.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{codeText:"获取",userPhoneNum:"",userVerifyCode:"",hidePass:!0,codeDisabled:!1}},methods:s({getUserPhoneNum:function(e){this.userPhoneNum=e.target.value},getUserVerifyCode:function(e){this.userVerifyCode=e.target.value},getVerifyCode:function(){var t=this;return i(r.default.mark((function n(){var o,a,u,i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t,11!=t.userPhoneNum.length){n.next=18;break}return n.next=4,t.$request({url:"/validUser",method:"POST",data:{mobile:o.userPhoneNum}});case 4:if(a=n.sent,"该手机号尚未注册"!=a.data.msg){n.next=9;break}e.showToast({title:"该手机号尚未注册",icon:"none"}),n.next=16;break;case 9:return n.next=11,t.$request({url:"/getRegistCode/"+t.userPhoneNum});case 11:n.sent,e.showToast({title:"验证码已发送",icon:"none"}),t.codeDisabled=!0,u=60,i=setInterval((function(){u--,u>0?o.codeText=u+"s":(o.codeText="重新获取",clearInterval(i),o.codeDisabled=!1)}),1e3);case 16:n.next=19;break;case 18:e.showToast({title:"电话号码格式不正确，请输入11位电话号码",icon:"none"});case 19:case"end":return n.stop()}}),n)})))()},formSubmit:function(){var t=this;return i(r.default.mark((function n(){var o,a,u,i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o={mobile:t.userPhoneNum,mobileCode:t.userVerifyCode},n.next=3,t.$request({url:"/loginMobile",method:"POST",data:o});case 3:if(a=n.sent,u="Bearer "+a.data.token,e.setStorageSync("token",u),200!=a.data.code){n.next=15;break}return e.showToast({title:"欢迎",icon:"none"}),n.next=10,t.$request({url:"/getInfo",header:{Authorization:u}});case 10:i=n.sent,e.setStorageSync("user_info",i),130==i.data.user.deptId?setTimeout((function(){e.navigateTo({url:"/pages/choose_company/choose_company"})}),800):setTimeout((function(){e.switchTab({url:"/pages/index/index"})}),800),n.next=16;break;case 15:e.showToast({title:a.data.msg,icon:"none"});case 16:case"end":return n.stop()}}),n)})))()},formReset:function(){}},(0,o.mapMutations)(["login"]))};t.default=l}).call(this,n("543d")["default"])},d115:function(e,t,n){"use strict";n.r(t);var r=n("e197"),o=n("2d5d");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("8dba");var u,i=n("f0c5"),c=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"4947c591",null,!1,r["a"],u);t["default"]=c.exports},e197:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var o=function(){var e=this,t=e.$createElement;e._self._c},a=[]}},[["7085","common/runtime","common/vendor"]]]);