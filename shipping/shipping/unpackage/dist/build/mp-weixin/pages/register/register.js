(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register","components/xfl-select/xfl-select"],{"00e2":function(e,t,i){"use strict";i.r(t);var r=i("db1a"),a=i("db74");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("6b9a");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"4a8a7d3a",null,!1,r["a"],s);t["default"]=c.exports},"08b7":function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"0915":function(e,t,i){"use strict";i.r(t);var r=i("b7fb"),a=i("f48c");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("a959");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"0031d13c",null,!1,r["a"],s);t["default"]=c.exports},"21e9":function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"2e27":function(e,t,i){"use strict";i.r(t);var r=i("97cd"),a=i("4a26");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("49c8");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"5129ddb7",null,!1,r["a"],s);t["default"]=c.exports},"40f3":function(e,t,i){"use strict";i.r(t);var r=i("451f"),a=i("b28a");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=c.exports},"451f":function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"46d1":function(e,t,i){"use strict";var r=i("a8e4"),a=i.n(r);a.a},"490f":function(e,t,i){"use strict";i.r(t);var r=i("593b"),a=i("8899");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("46d1");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"74d3c65c",null,!1,r["a"],s);t["default"]=c.exports},"49c8":function(e,t,i){"use strict";var r=i("b63a"),a=i.n(r);a.a},"4a26":function(e,t,i){"use strict";i.r(t);var r=i("a46a"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},"593b":function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.id_begin_date_has_input=!0},e.e1=function(t){e.id_expiry_date_has_input=!0})},n=[]},"5c6f":function(e,t,i){"use strict";i.r(t);var r=i("21e9"),a=i("9f03");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("7d07");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"515f31bc",null,!1,r["a"],s);t["default"]=c.exports},6542:function(e,t,i){"use strict";(function(e){i("c5c7");r(i("66fd"));var t=r(i("5c6f"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},"6acc":function(e,t,i){},"6b9a":function(e,t,i){"use strict";var r=i("954e"),a=i.n(r);a.a},"6e4e":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("a34a")),a=i("2e4a");i("59aa"),i("babb");function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i,r,a,n,s){try{var o=e[n](s),c=o.value}catch(l){return void i(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var n=e.apply(t,i);function o(e){s(n,r,a,o,c,"next",e)}function c(e){s(n,r,a,o,c,"throw",e)}o(void 0)}))}}var c,l=function(){Promise.all([i.e("common/vendor"),i.e("components/simple-address-high/simple-address")]).then(function(){return resolve(i("0ce0"))}.bind(null,i)).catch(i.oe)},u=(i("6802"),{data:function(){var e=this.getDate({format:!0});return{isPerson:!1,tel:"1111",number_front:"",detail_address:"",legal_person:"",legal_person_id:"",company_name:"",transport_license_num:"",contact_name:"",cityPickerValueDefault:[0,0,1],disabled:!0,active:!1,origin_has_input:!1,previous_has_input:!1,pickerTextOrigin:"",imglegalPersonCerFrontUrl:"/static/id_front.jpg",imglegalPersonCerReverseUrl:"/static/id-back.jpg",imgBusinessLicenseUrl:"/static/id-front.png",imgTransportLicenseUrl:"/static/transport_license.jpg",imgBackUrl:"/static/id-back.jpg",tachar_legal_person_cer_front:!1,tachar_legal_person_cer_reverse:!1,tachar_business_license:!1,tachar_transport_license:!1,tachar_back:!1,photo_id:!0,id_begin_date:e,id_expiry_date:e,params:{active_one_step:!0,active_two_step:!0,the_step:2},params_business:{},validity_items:[{value:"1",name:"永久有效"},{value:"2",name:"有截止日期"}],validity_current:1,forever:!1,id_begin_date_has_input:!1,id_expiry_date_has_input:!1}},components:{simpleAddressHigh:l},computed:{endDate:function(){return this.getDate("end")}},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params_business=e.getStorageSync("params_business"),this.tel=e.getStorageSync("contact_phone"),this.params.carrierContactsPhone=e.getStorageSync("contact_phone")},mounted:function(){this.isPerson?this.imgBusinessLicenseUrl="/static/id_front.jpg":this.imgBusinessLicenseUrl="/static/business_license.jpg";var e=this.params_business.whetherValidForever||2;this.validity_current=e-1,1==e&&(this.forever=!0),this.company_name=this.params_business.carrierName||"",this.number_front=this.params_business.carrierCertNum||"",this.detail_address=this.params_business.carrierAddress||"",this.transport_license_num=this.params_business.carrierRoadTransportBusinessLicenseNo||"",this.contact_name=this.params_business.carrierContacts||"",this.params_business.idcardValidPeriodFrom&&(this.id_begin_date=this.params_business.idcardValidPeriodFrom||this.getDate({format:!0}),this.id_begin_date_has_input=!0),this.params_business.idcardValidPeriodTo&&(this.id_expiry_date=this.params_business.idcardValidPeriodTo||this.getDate({format:!0}),this.id_expiry_date_has_input=!0),this.legal_person=this.params_business.legalPersonName||"",this.legal_person_id=this.params_business.legalPersonCer||"",this.pickerTextOrigin=this.params_business.pickerTextOrigin||"",this.previous_has_input=this.params_business.previous_has_input||!1,this.params=this.params_business||{},this.params_business.carrierRoadTransportBusinessLicenseNo&&(this.disabled=!1,this.active=!0)},methods:{radioValidityChange:function(e){this.params.whetherValidForever=parseInt(e.target.value),1==this.params.whetherValidForever?(this.forever=!0,this.params_business.idcardValidPeriodTo="2080-01-01"):this.forever=!1},selectOrigin:function(){var e=this.$refs.simpleAddressOrigin.queryIndex(["江苏省","徐州市","云龙区"],"label");this.cityPickerValueDefault=e.index,this.$refs.simpleAddressOrigin.open()},onConfirmOrigin:function(e){11==e.provinceCode||31==e.provinceCode||12==e.provinceCode||50==e.provinceCode?this.pickerTextOrigin=e.labelArr[0]+e.labelArr[2]:this.pickerTextOrigin=e.labelArr[0]+e.labelArr[1]+e.labelArr[2],this.params.pickerTextOrigin=this.pickerTextOrigin,this.params.carrierProvinceId=e.provinceCode,this.params.carrierCityId=e.cityCode,this.params.carrierDistrictId=e.areaCode,this.params.carrierRegionName=e.labelArr[2],this.params.carrierCityName=e.labelArr[1],this.params.carrierProvinceName=e.labelArr[0],this.origin_has_input=!0,this.previous_has_input=!0,this.params.previous_has_input=this.previous_has_input},detailImage:function(e,t){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new plus.io.FileReader;i.readAsDataURL(e),i.onloadend=function(e){t(e.target.result)}}))}))},getCompanyName:function(t){this.params.carrierName=t.target.value,this.company_name=t.target.value,this.isPerson&&(this.contact_name=this.company_name,this.params.carrierContacts=this.company_name,e.setStorageSync("holder_name",this.company_name))},bindDateChange:function(e){"id_begin_date"==e.currentTarget.dataset.index?(this.id_begin_date=e.target.value,this.params.idcardValidPeriodFrom=e.target.value,this.id_begin_date_has_input=!0):"id_expiry_date"==e.currentTarget.dataset.index&&(this.id_expiry_date=e.target.value,this.params.idcardValidPeriodTo=e.target.value,this.id_expiry_date_has_input=!0)},getDate:function(e){var t=new Date,i=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=20),r=r>9?r:"0"+r,a=a>9?a:"0"+a,"".concat(i,"-").concat(r,"-").concat(a)},getBusinessLicenseNum:function(t){this.number_front=t.target.value,this.params.carrierCertNum=t.target.value,e.setStorageSync("driver_id_num",this.params.carrierCertNum)},getRegisteringAddress:function(e){this.detail_address=e.target.value,this.params.carrierAddress=e.target.value},getlegalPersonName:function(e){this.legal_person=e.target.value,this.params.legalPersonName=e.target.value,this.params.legalPersonCerType="201"},getlegalPersonID:function(e){this.legal_person_id=e.target.value,this.params.legalPersonCer=e.target.value},getTransportLicense:function(e){this.transport_license_num=e.target.value,this.params.carrierRoadTransportBusinessLicenseNo=e.target.value,this.disabled=!1,this.active=!0},getContact:function(e){this.contact_name=e.target.value,this.params.carrierContacts=e.target.value},getPhoneNumber:function(e){this.tel=e.target.value,this.params.carrierContactsPhone=e.target.value},takephotoLegal:function(e){var t=this;return o(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(c=t,"legalPersonCerFront"!=e.currentTarget.dataset.index){i.next=7;break}return i.next=4,t.$photo({count:1,sizeType:["original","compressed"],sourceType:["camera","album"],success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,c.imglegalPersonCerFrontUrl=i[0],c.tachar_legal_person_cer_front=!0,t.next=5,c.$upload({url:a.ossLocation.legal.front,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 4:i.sent,i.next=17;break;case 7:if("legalPersonCerReverse"!=e.currentTarget.dataset.index){i.next=13;break}return i.next=10,t.$photo({success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,c.imglegalPersonCerReverseUrl=i[0],c.tachar_legal_person_cer_reverse=!0,t.next=5,c.$upload({url:a.ossLocation.legal.reverse,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 10:i.sent,i.next=17;break;case 13:if("carrier_id_reverse"!=e.currentTarget.dataset.index){i.next=17;break}return i.next=16,t.$photo({success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,c.imgBackUrl=i[0],c.tachar_back=!0,t.next=5,c.$upload({url:a.ossLocation.carrier.reverse,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 16:i.sent;case 17:case"end":return i.stop()}}),i)})))()},takephoto:function(t){c=this,e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera","album"],success:function(e){return o(r.default.mark((function i(){var n,s,o;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("business_license"!=t.currentTarget.dataset.index){i.next=18;break}if(c.isPerson){i.next=10;break}return n=e.tempFilePaths,c.imgBusinessLicenseUrl=n[0],c.tachar_business_license=!0,i.next=7,c.$upload({url:a.ossLocation.carrier.front,file_path:n[0]});case 7:i.sent,i.next=16;break;case 10:return s=e.tempFilePaths,c.imgBusinessLicenseUrl=s[0],c.tachar_business_license=!0,i.next=15,c.$upload({url:a.ossLocation.carrier.front,file_path:s[0]});case 15:i.sent;case 16:i.next=26;break;case 18:if("transport_license"!=t.currentTarget.dataset.index){i.next=26;break}return o=e.tempFilePaths,console.log(o,"876"),c.imgTransportLicenseUrl=o[0],c.tachar_transport_license=!0,i.next=25,c.$upload({url:a.ossLocation.carrier.road,file_path:o[0]});case 25:i.sent;case 26:case"end":return i.stop()}}),i)})))()},error:function(e){console.log(e)}})},cancelLicense:function(t){console.log(t,"199"),"legal_person_cer_front"==t.currentTarget.dataset.index?(this.imglegalPersonCerFrontUrl="/static/id_front.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_legal_person_cer_front=!1):"legal_person_cer_reverse"==t.currentTarget.dataset.index?(this.imglegalPersonCerReverseUrl="/static/id-back.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_legal_person_cer_reverse=!1):"business_license"==t.currentTarget.dataset.index?(this.isPerson?this.imgBusinessLicenseUrl="/static/id_front.jpg":this.imgBusinessLicenseUrl="/static/business_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_business_license=!1):"transport_license"==t.currentTarget.dataset.index&&(this.imgTransportLicenseUrl="/static/transport_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_transport_license=!1)},cancelBack:function(){this.imgBackUrl="/static/id-back.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_back=!1},backPhoneVerifying:function(){this.params.the_step=1,this.params.active_one_step=!0,this.params.active_two_step=!1,this.params.active_three_step=!1,this.params.active_four_step=!1,this.params.active_five_step=!1,e.setStorageSync("params_business",this.params),this.$emit("register_business_params",this.params)},formSubmit:function(t){if(!this.isPerson){if(this.params.legalPersonCerFront=e.getStorageSync("legalPersonCerFront"),null==this.params.legalPersonCerFront||""==this.params.legalPersonCerFront||this.params.legalPersonCerFront.length<1)return void e.showToast({title:"未提交法人身份证正面, 请提交",icon:"none"});if(this.params.legalPersonCerReverse=e.getStorageSync("legalPersonCerReverse"),null==this.params.legalPersonCerReverse||""==this.params.legalPersonCerReverse||this.params.legalPersonCerReverse.length<1)return void e.showToast({title:"未提交法人证件身份证背面, 请提交",icon:"none"});if(this.params.carrierRoadTransportBusinessLicense=e.getStorageSync("carrierRoadTransportBusinessLicense"),null==this.params.carrierRoadTransportBusinessLicense||""==this.params.carrierRoadTransportBusinessLicense||this.params.carrierRoadTransportBusinessLicense.length<1)return void e.showToast({title:"未提交道路运输经营许可证, 请提交",icon:"none"})}if(this.params.carrierCardFront=e.getStorageSync("carrierCardFront"),null==this.params.carrierCardFront||""==this.params.carrierCardFront||this.params.carrierCardFront.length<1)this.isPerson?e.showToast({title:"未提交身份证正面, 请提交",icon:"none"}):e.showToast({title:"未提交营业执照, 请提交",icon:"none"});else if(this.params.carrierCardReverse=e.getStorageSync("carrierCardReverse"),this.isPerson&&(null==this.params.carrierCardReverse||""==this.params.carrierCardReverse||this.params.carrierCardReverse.length<1))e.showToast({title:"未提交身份证背面, 请提交",icon:"none"});else if(null==this.params.carrierName||""==this.params.carrierName||this.params.carrierName.length<1)this.isPerson?e.showToast({title:"未输入承运人姓名, 请输入",icon:"none"}):e.showToast({title:"未输入承运企业名称, 请输入",icon:"none"});else if(null==this.params.carrierCertNum||""==this.params.carrierCertNum||this.params.carrierCertNum.length<18)this.isPerson?(e.showToast({title:"承运人身份证号不正确, 请重输",icon:"none"}),this.number_front=""):(e.showToast({title:"承运企业营业执照号码不正确, 请重输",icon:"none"}),this.number_front="");else if(null==this.params.carrierDistrictId||""==this.params.carrierDistrictId||this.params.carrierDistrictId.length<1)e.showToast({title:"未选择所属区域, 请选择",icon:"none"});else if(null==this.params.carrierAddress||""==this.params.carrierAddress||this.params.carrierAddress.length<1)this.isPerson?e.showToast({title:"未输入详细地址, 请输入",icon:"none"}):e.showToast({title:"未输入注册地址, 请输入",icon:"none"});else{if(!this.isPerson){if(null==this.params.legalPersonName||""==this.params.legalPersonName||this.params.legalPersonName.length<1)return void e.showToast({title:"未输入法人代表名称, 请输入",icon:"none"});if(null==this.params.legalPersonCer||""==this.params.legalPersonCer||this.params.legalPersonCer.length<18)return void e.showToast({title:"法人代表身份证号码不正确, 请重输",icon:"none"})}null==this.params.carrierRoadTransportBusinessLicenseNo||""==this.params.carrierRoadTransportBusinessLicenseNo||this.params.carrierRoadTransportBusinessLicenseNo.length<1?e.showToast({title:"未输入运输经营许可证号码, 请输入",icon:"none"}):null==this.params.carrierContacts||""==this.params.carrierContacts||this.params.carrierContacts.length<1?e.showToast({title:"未输入业务联系人, 请输入",icon:"none"}):(this.params.carrierContactsPhone=this.tel,console.log("form发生了submit事件，携带数据为："+JSON.stringify(t.detail.value)),e.setStorageSync("params_business",this.params),this.params.the_step=3,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!0,this.params.active_four_step=!1,this.params.active_five_step=!1,this.$emit("register_business_params",this.params))}}}});t.default=u}).call(this,i("543d")["default"])},"7d07":function(e,t,i){"use strict";var r=i("d2e4"),a=i.n(r);a.a},8065:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("a34a"));a(i("00e2")),i("2e4a");function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,r,a,n,s){try{var o=e[n](s),c=o.value}catch(l){return void i(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function l(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var n=e.apply(t,i);function s(e){c(n,r,a,s,o,"next",e)}function o(e){c(n,r,a,s,o,"throw",e)}s(void 0)}))}}var u=function(){Promise.all([i.e("common/vendor"),i.e("node-modules/vue-multiselect/src/Multiselect")]).then(function(){return resolve(i("c1d3"))}.bind(null,i)).catch(i.oe)},h=i("6802"),p={data:function(){return{isPerson:!1,disabled:!0,active:!1,bank_holder_tel:"",holder_name:"",bank_name:"",bank_placeholder:"请输入银行名称",bank_account:"",array:[],index:0,params:{the_step:5,active_one_step:!0,active_two_step:!0,active_three_step:!0,active_four_step:!0,active_five_step:!0,carrierBankcardCategory:1},params_bank:{},form:{},bank_list:[],bank_class_index:0,list:[],list_code:[],value:null,options:[]}},components:{Multiselect:u},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params_bank=e.getStorageSync("params_bank"),this.getBankName(),this.userTypeChange(),this.params=this.params_bank||{},this.params_bank.bankcardAccount&&(this.disabled=!1,this.active=!0)},mounted:function(){this.isPerson&&(this.holder_name=e.getStorageSync("holder_name"),this.params.holderName=this.holder_name,this.bank_holder_tel=e.getStorageSync("holder_phone"),this.params.holderPhone=this.bank_holder_tel),this.bank_placeholder=this.params_bank.bank_name||"请输入银行名称",this.bank_account=this.params_bank.bankcardAccount||""},methods:{bindBankClassPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.bank_class_index=e.target.value,this.params.carrierBankcardCategory=1},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value,this.params.bankCode=this.list_code[this.index-1]},getHolderName:function(t){this.holder_name=t.target.value,this.params.holderName=t.target.value,e.setStorageSync("holder_name",this.holder_name)},getBankName:function(){var e=this;return l(r.default.mark((function t(){var i,a,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("bank_code");case 2:return i=t.sent,e.array=i.data.data.map((function(e){return e.dictLabel})),e.array.unshift("请选择银行名称"),e.options=i.data.data,e.list_code=i.data.data.map((function(e){return e.dictValue})),t.next=9,e.$getRegistDicts("carrier_bankcard_category");case 9:a=t.sent,e.bank_list=a.data.data.map((function(e){return e.dictLabel})),n=e.params_bank.bankCode||"",e.index=e.list_code.findIndex((function(e){return e==n}))+1;case 13:case"end":return t.stop()}}),t)})))()},getBankType:function(e){this.params.carrierBankcardCategory=1},getBankList:function(e){this.params.bankCode=e.newVal.dictLabel},getBankAccount:function(e){this.bank_account=e.detail.value,this.params.bankcardAccount=e.detail.value,this.disabled=!1,this.active=!0,"436742"!=this.bank_account.substr(0,6)&&"436745"!=this.bank_account.substr(0,6)&&"622280"!=this.bank_account.substr(0,6)||(this.bank_name="建设银行")},getBank:function(e){this.bank_name=e.dictLabel,this.params.bankCode=e.dictValue,this.params.bank_name=e.dictLabel},getBankContact:function(t){this.bank_holder_tel=t.detail.value,this.params.holderPhone=t.detail.value,e.setStorageSync("holder_phone",this.bank_holder_tel)},userTypeChange:function(){this.isPerson?(this.params.carrierType=1,this.params.carrierCertificateType="201",this.params.driverIdNumber=this.params.carrierCertNum,this.params.driverPhone=this.params.phonenumber,this.params.userName=this.params.phonenumber,this.params.driverName=this.params.carrierName,this.params.idcardFront=this.params.carrierCardFront,this.params.idcardBack=this.params.carrierCardReverse):(this.params.carrierType=2,this.params.carrierCertificateType="102",this.params.legalPersonCerType="201",this.params.driverCertificateType="201")},formSubmit:function(t){var i=this;return l(r.default.mark((function a(){var n,o,c,l,u,p,d,f,_,m;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.log("form发生了submit事件，携带数据为："+JSON.stringify(t.detail.value)),n=[{name:"cellphone",checkType:"phoneno",errorMsg:"电话号码格式有误"}],o=t.detail.value,c=h.check(o,n),!c){r.next=8;break}e.showToast({title:"验证通过,正在注册中!",icon:"none"}),r.next=11;break;case 8:return e.showToast({title:h.error,icon:"none"}),i.bank_holder_tel="",r.abrupt("return");case 11:if(!(null==i.params.holderName||""==i.params.holderName||i.params.holderName.length<1)){r.next=14;break}return e.showToast({title:"未输入银行卡持有人, 请输入",icon:"none"}),r.abrupt("return");case 14:if((null==i.params.carrierBankcardCategory||""==i.params.carrierBankcardCategory||i.params.carrierBankcardCategory.length<1)&&(i.params.carrierBankcardCategory=1),!(null==i.params.bankCode||""==i.params.bankCode||i.params.bankCode.length<1)){r.next=18;break}return e.showToast({title:"未选择银行名称, 请选择",icon:"none"}),r.abrupt("return");case 18:if(!(null==i.params.bankcardAccount||""==i.params.bankcardAccount||i.params.bankcardAccount.length<1)){r.next=21;break}return e.showToast({title:"未输入银行账号, 请输入",icon:"none"}),r.abrupt("return");case 21:e.setStorageSync("params_bank",i.params),l=e.getStorageSync("params_phone"),u=e.getStorageSync("params_business"),p=e.getStorageSync("params_vehicle"),d=e.getStorageSync("params_license"),f=e.getStorageSync("params_bank"),_=e.getStorageSync("params_photos"),i.form=s(s(s(s(s(s({},l),u),_),p),d),f),i.isPerson?(i.form.carrierType=1,i.form.carrierCertificateType="201",i.form.driverIdNumber=i.form.carrierCertNum,i.form.driverPhone=i.form.phonenumber,i.form.userName=i.form.phonenumber,i.form.driverName=i.form.carrierName,i.form.idcardFront=i.form.carrierCardFront,i.form.idcardBack=i.form.carrierCardReverse):(i.form.carrierType=2,i.form.carrierCertificateType="102",i.form.legalPersonCerType="201",i.form.driverCertificateType="201"),i.form.legalPersonCerFront=e.getStorageSync("legalPersonCerFront"),i.form.legalPersonCerReverse=e.getStorageSync("legalPersonCerReverse"),i.form.carrierCardFront=e.getStorageSync("carrierCardFront"),i.form.carrierRoadTransportBusinessLicense=e.getStorageSync("carrierRoadTransportBusinessLicense"),i.form.vehicleLicensePhotoFirst=e.getStorageSync("vehicleLicensePhotoFirst"),i.form.vehicleLicensePhotoSecond=e.getStorageSync("vehicleLicensePhotoSecond"),i.form.vehicleRoadcertPhoto=e.getStorageSync("vehicleRoadcertPhoto"),i.form.trailerLicensePhotoFirst=e.getStorageSync("trailerLicensePhotoFirst"),i.form.peopleVehiclePhoto=e.getStorageSync("peopleVehiclePhoto"),i.form.idcardFront=e.getStorageSync("idcardFront"),i.form.idcardBack=e.getStorageSync("idcardBack"),i.form.drivingLicensePhotoFirst=e.getStorageSync("drivingLicensePhotoFirst"),i.form.qualificationCertPhoto=e.getStorageSync("qualificationCertPhoto"),i.form.carrierCardReverse=e.getStorageSync("carrierCardReverse"),m=i.form,console.log(m,"form"),m=JSON.stringify(m);case 47:case"end":return r.stop()}}),a)})))()},backLicense:function(){this.params.the_step=4,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!0,this.params.active_four_step=!0,this.params.active_five_step=!1,e.setStorageSync("params_bank",this.params),this.$emit("register_bank_params",this.params)}}};t.default=p}).call(this,i("543d")["default"])},8165:function(e,t,i){"use strict";i.r(t);var r=i("08b7"),a=i("f991");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("fc8f"),i("9fe3");var s,o=i("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"0c72154d",null,!1,r["a"],s);t["default"]=c.exports},8899:function(e,t,i){"use strict";i.r(t);var r=i("6e4e"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},"954e":function(e,t,i){},"97cd":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var r={uniNumberBox:function(){return i.e("uni_modules/uni-number-box/components/uni-number-box/uni-number-box").then(i.bind(null,"5ccc"))}},a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"9f03":function(e,t,i){"use strict";i.r(t);var r=i("a1b5"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},"9fe3":function(e,t,i){"use strict";var r=i("b00f"),a=i.n(r);a.a},a1b5:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("40f3"));var r=o(i("0915")),a=o(i("490f")),n=o(i("2e27")),s=o(i("8165"));function o(e){return e&&e.__esModule?e:{default:e}}var c=function(){i.e("uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control").then(function(){return resolve(i("d38f"))}.bind(null,i)).catch(i.oe)},l=function(){i.e("components/register/phone_verifying").then(function(){return resolve(i("e575"))}.bind(null,i)).catch(i.oe)},u={data:function(){return{disabled:!0,active:!1,active_one_step:!0,active_two_step:!1,active_three_step:!1,active_four_step:!1,active_five_step:!1,step:1,cellphone:"",verify_code:"",form:{}}},onLoad:function(e){},components:{uniSegmentedControl:c,companyLicense:r.default,phoneVerifying:l,companyBusinessInfo:a.default,vehicle:n.default,bank:s.default},methods:{getRegisterPhoneParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step},getRegisterBusinessParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step,this.active_three_step=e.active_three_step},getRegisterInfoParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step,this.active_three_step=e.active_three_step,this.active_four_step=e.active_four_step},getVehicleParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step,this.active_three_step=e.active_three_step,this.active_four_step=e.active_four_step},getLicenseParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step,this.active_three_step=e.active_three_step,this.active_four_step=e.active_four_step,this.active_five_step=e.active_five_step},getBankParams:function(e){this.step=e.the_step,this.active_one_step=e.active_one_step,this.active_two_step=e.active_two_step,this.active_three_step=e.active_three_step,this.active_four_step=e.active_four_step,this.active_five_step=e.active_five_step},goPhoneVerifying:function(){this.step=2,this.active=!1,this.active_one_step=!0},goChangeIdentity:function(){e.reLaunch({url:"/pages/choose_identity/choose_identity"})},callService:function(){e.makePhoneCall({phoneNumber:"051687739339"})}}};t.default=u}).call(this,i("543d")["default"])},a46a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=s(i("a34a")),n=(s(i("00e2")),i("2e4a"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i,r,a,n,s){try{var o=e[n](s),c=o.value}catch(l){return void i(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var n=e.apply(t,i);function s(e){o(n,r,a,s,c,"next",e)}function c(e){o(n,r,a,s,c,"throw",e)}s(void 0)}))}}var l={data:function(){return{isPerson:!1,disabled:!0,active:!1,plate_number:"",params:{the_step:4,active_one_step:!0,active_two_step:!0,active_three_step:!0},params_vehicle:{},vin:"",vehicleBrands:"",vehicle_weight:"",rating_weight:"",road_transpor_num:"",vehicleAxlenum:"",length:"",width:"",height:"",imgDriverLicenseUrl:"/static/id-front.png",imgTransportLicenseUrl:"/static/TransportLicense.png",imgVehicleLicenseFirstUrl:"/static/vehicle_license.jpg",imgVehicleLicenseSecondUrl:"/static/id-front.png",imgDraggingCarPhotoUrl:"/static/id-front.png",imgDraggingTransportPhotoUrl:"/static/id-front.png",imgHangingCarPhotoUrl:"/static/vehicle_license.jpg",imgPeopleVehicleUrl:"/static/people_vehicle.jpg",tachar_driver_license:!1,tachar_transport_license:!1,tachar_vehicle_license_first:!1,tachar_vehicle_license_second:!1,tachar_dragging_car:!1,tachar_dragging_transport:!1,tachar_hanging_car:!1,tachar_people_vehicle:!1,is_ordinary:!1,plate_type_index:1,plate_color_index:0,list:["黄牌"],plate_type_list:["小型汽车号牌","大型汽车号牌","其他号牌"],car_items:[{value:"ordinary",name:"普通货车"},{value:"semi-camion",name:"半挂车"}],car_current:1,energy_items:[{value:"1",name:"新能源"},{value:"2",name:"非新能源"}],energy_current:1,energy_type:"非新能源",vehicleEnergyTypeOptions:[],box_length_list:[],box_length_index:0,vehicleCargoBoxLengthOptions:[],vehicleCargoBoxLengthSendValue:[]}},components:{},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params.whetherNewEnergy=2,this.getCarTypes(),this.getVehiclePlateTypeOptions(),this.getVehiclePlateColorOptions(),this.getVehicleEnergyTypeOptions(),this.getVehicleCargoBoxLengthOptions(),this.params_vehicle=e.getStorageSync("params_vehicle")},mounted:function(){var e=this.params_vehicle.whetherNewEnergy||2;this.energy_current=e-1,103==this.params_vehicle.vehicleSpecies?(this.is_ordinary=!0,this.car_current=0):303==this.params_vehicle.vehicleSpecies&&(this.is_ordinary=!1,this.car_current=1),this.plate_number=this.params_vehicle.vehiclePlateNumber||"","02"==this.params_vehicle.vehiclePlateType?this.plate_type_index=0:"01"==this.params_vehicle.vehiclePlateType?this.plate_type_index=1:"99"==this.params_vehicle.vehiclePlateType&&(this.plate_type_index=2),this.vehicleBrands=this.params_vehicle.vehicleBrands||"",this.vehicle_weight=this.params_vehicle.vehicleLadenWeight||"",this.rating_weight=this.params_vehicle.vehicleTonnage||"",this.road_transpor_num=this.params_vehicle.vehicleRoadcertNo,this.vin=this.params_vehicle.vehicleVincode||"",this.vehicleAxlenum=this.params_vehicle.vehicleAxlenum||"",this.length=this.params_vehicle.vehicleLength||"",this.width=this.params_vehicle.vehicleWidth||"",this.height=this.params_vehicle.vehicleHeight||"",this.params=this.params_vehicle||{},this.params_vehicle.vehicleTonnage&&(this.disabled=!1,this.active=!0)},methods:{detailImage:function(e,t){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new plus.io.FileReader;i.readAsDataURL(e),i.onloadend=function(e){t(e.target.result)}}))}))},bindPickerColorChange:function(e){console.log("picker发送选择改变，携带值为",e),this.plate_color_index=e.target.value,0==e.target.value&&(this.params.vehiclePlateColor="2"),this.plate_color_index=0,this.params.vehiclePlateColor="2"},bindPickerChange:function(e){console.log("picker发送选择改变01，携带值为",e.target.value),this.plate_type_index=e.target.value,0==e.target.value?this.params.vehiclePlateType="02":1==e.target.value?this.params.vehiclePlateType="01":2==e.target.value&&(this.params.vehiclePlateType="99")},bindPickercargoBoxLengthChange:function(e){console.log("picker发送选择改变，携带值为BoxLength",e.target.value),this.box_length_index=e.target.value;var t=this.box_length_index-1;this.params.cargoBoxLength=this.vehicleCargoBoxLengthSendValue[t]},getCarTypes:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("iscm_vehicle_species");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehiclePlateTypeOptions:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_type");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehiclePlateColorOptions:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_plate_color");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleEnergyTypeOptions:function(){var e=this;return c(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_energy_type");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getVehicleCargoBoxLengthOptions:function(){var e=this;return c(a.default.mark((function t(){var i,r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$getRegistDicts("vehicle_length");case 2:i=t.sent,console.log(e.vehicleCargoBoxLengthOptions,"货箱长度"),e.vehicleCargoBoxLengthOptions=i,e.vehicleCargoBoxLengthOptions=e.vehicleCargoBoxLengthOptions.data.data.map((function(e){return e.dictLabel})),e.box_length_list=e.vehicleCargoBoxLengthOptions,e.box_length_list.unshift("请选择货箱长度"),e.vehicleCargoBoxLengthSendValue=i.data.data.map((function(e){return e.dictValue})),r=e.params_vehicle.cargoBoxLength,e.box_length_index=e.vehicleCargoBoxLengthSendValue.findIndex((function(e){return e==r}))+1;case 11:case"end":return t.stop()}}),t)})))()},radioEnergyChange:function(e){this.params.whetherNewEnergy=parseInt(e.target.value)},radioCarChange:function(e){console.log(e.target.value,"car"),"ordinary"==e.target.value?(this.is_ordinary=!0,this.params.vehicleSpecies=103):(this.is_ordinary=!1,this.params.vehicleSpecies=303)},getCarNo:function(e){this.params.vehiclePlateNumber=e.detail.value},getCarBrand:function(e){this.params.vehicleBrands=e.detail.value,this.vehicleBrands=e.detail.value},getPlateColor:function(e){"黄牌"==e.newVal&&(this.params.vehiclePlateColor="2")},getVehicleWeight:function(e){this.params.vehicleLadenWeight=e.detail.value},getRatingWeight:function(e){this.params.vehicleTonnage=e.detail.value},getRoadTransportNo:function(e){this.params.vehicleRoadcertNo=e.detail.value,this.disabled=!1,this.active=!0},getVehicleVinCode:function(e){this.params.vehicleVincode=e.detail.value},getVehicleAxlenum:function(e){this.params.vehicleAxlenum=e},getVehicleLength:function(e){this.params.vehicleLength=e.detail.value},getVehicleWidth:function(e){this.params.vehicleWidth=e.detail.value},getVehicleHeight:function(e){this.params.vehicleHeight=e.detail.value},takephoto:function(e){var t=this;return c(a.default.mark((function i(){return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=t,"vehicle_license_first"!=e.currentTarget.dataset.index){i.next=7;break}return i.next=4,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,r.imgVehicleLicenseFirstUrl=i[0],r.tachar_vehicle_license_first=!0,t.next=5,r.$upload({url:n.ossLocation.vehicle.first,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 4:i.sent,i.next=29;break;case 7:if("vehicle_license_second"!=e.currentTarget.dataset.index){i.next=13;break}return i.next=10,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,r.imgVehicleLicenseSecondUrl=i[0],r.tachar_vehicle_license_second=!0,t.next=5,r.$upload({url:n.ossLocation.vehicle.second,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 10:i.sent,i.next=29;break;case 13:if("vehicle_transport_license"!=e.currentTarget.dataset.index){i.next=19;break}return i.next=16,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,r.imgTransportLicenseUrl=i[0],r.tachar_transport_license=!0,t.next=5,r.$upload({url:n.ossLocation.vehicle.road,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 16:i.sent,i.next=29;break;case 19:if("trailer_license_photo_first"!=e.currentTarget.dataset.index){i.next=25;break}return i.next=22,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,r.imgHangingCarPhotoUrl=i[0],r.tachar_hanging_car=!0,t.next=5,r.$upload({url:n.ossLocation.trailer.first,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 22:i.sent,i.next=29;break;case 25:if("people_vehicle_photo"!=e.currentTarget.dataset.index){i.next=29;break}return i.next=28,t.$photo({success:function(e){return c(a.default.mark((function t(){var i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,r.imgPeopleVehicleUrl=i[0],r.tachar_people_vehicle=!0,t.next=5,r.$upload({url:n.ossLocation.vehicle.rc,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 28:i.sent;case 29:case"end":return i.stop()}}),i)})))()},uploadDriverLicense:function(){r=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;r.imgDriverLicenseUrl=i[0],r.tachar_driver_license=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"})}});a.onProgressUpdate((function(e){r.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingCarPhoto:function(){r=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;r.imgDraggingCarPhotoUrl=i[0],r.tachar_dragging_car=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"}),r.disabled=!1,r.active=!0}});a.onProgressUpdate((function(e){r.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},uploadDraggingTransportPhoto:function(){r=this,e.chooseImage({count:1,sizeType:["original","compressed"],header:{Authorization:"Bearer eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjFiNWZiNTNkLTE3YzItNGVhZS1hNmU5LTc4MGQ2YTA3MGFmMiJ9.wq_R8uafaVC2irYT_AfvY6KLKja224RLgset5-JEG4aMPRjUv8-tZqEFKiS2cvLFVOYW6T2oF9LK5SyDIbchmQ"},success:function(t){var i=t.tempFilePaths;r.imgDraggingTransportPhotoUrl=i[0],r.tachar_dragging_transport=!0;var a=e.uploadFile({url:"http://182.61.138.90:8081/iscm/dispatch",filePath:i[0],name:"file",formData:{user:"test"},success:function(t){e.showToast({title:"上传成功"}),r.disabled=!1,r.active=!0}});a.onProgressUpdate((function(e){r.percent=e.progress,console.log("上传进度"+e.progress),console.log("已经上传的数据长度"+e.totalBytesSent),console.log("预期需要上传的数据总长度"+e.totalBytesExpectedToSend)}))},error:function(e){console.log(e)}})},cancelHangingCar:function(){this.imgHangingCarPhotoUrl="/static/vehicle_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_hanging_car=!1},cancelDraggingCar:function(){this.imgDraggingCarPhotoUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_car=!1},cancelDraggingTransport:function(){this.imgDraggingTransportPhotoUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_dragging_transport=!1},cancelDriverLicense:function(){this.imgDriverLicenseUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_license=!1},cancelTransportLicense:function(){this.imgTransportLicenseUrl="/static/TransportLicense.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_transport_license=!1},cancelVehicleLicenseFirst:function(){this.imgVehicleLicenseFirstUrl="/static/vehicle_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_first=!1},cancelVehicleLicenseSecond:function(){this.imgVehicleLicenseSecondUrl="/static/id-front.png",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_vehicle_license_second=!1},cancelPeopleVehicle:function(){this.imgPeopleVehicleUrl="/static/people_vehicle.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_people_vehicle=!1},formSubmit:function(t){var i=this;return c(a.default.mark((function t(){var r,n,s,o,c;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.params.vehicleLicensePhotoFirst=e.getStorageSync("vehicleLicensePhotoFirst"),!(null==i.params.vehicleLicensePhotoFirst||""==i.params.vehicleLicensePhotoFirst||i.params.vehicleLicensePhotoFirst.length<1)){t.next=4;break}return e.showToast({title:"未提交行驶证主副页, 请提交",icon:"none"}),t.abrupt("return");case 4:if(i.params.vehicleRoadcertPhoto=e.getStorageSync("vehicleRoadcertPhoto"),!(null==i.params.vehicleRoadcertPhoto||""==i.params.vehicleRoadcertPhoto||i.params.vehicleRoadcertPhoto.length<1)){t.next=8;break}return e.showToast({title:"未提交道路运输证, 请提交",icon:"none"}),t.abrupt("return");case 8:if((null==i.params.whetherNewEnergy||""==i.params.whetherNewEnergy||i.params.whetherNewEnergy.length<1)&&(i.params.whetherNewEnergy=2),(null==i.params.vehicleSpecies||""==i.params.vehicleSpecies||i.params.vehicleSpecies.length<1)&&(i.params.vehicleSpecies=303),(null==i.params.vehiclePlateType||""==i.params.vehiclePlateType||i.params.vehiclePlateType.length<1)&&(i.params.vehiclePlateType="02"),(null==i.params.vehiclePlateColor||""==i.params.vehiclePlateColor||i.params.vehiclePlateColor.length<1)&&(i.params.vehiclePlateColor="2"),r=i.params.vehiclePlateNumber,n=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF]))|[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,s=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[a-zA-Z](([DF]((?![IO])[a-zA-Z0-9](?![IO]))[0-9]{4})|([0-9]{5}[DF])))$/,o=/^([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1})$/,c=r.substr(-1),"挂"!=c){t.next=21;break}return e.showToast({title:"请勿输入挂车车牌",icon:"none"}),i.plate_num="",t.abrupt("return");case 21:if(n.test(r)){t.next=27;break}return e.showToast({title:"车牌号不正确",icon:"none"}),i.plate_num="",t.abrupt("return");case 27:if(!s.test(r)){t.next=37;break}if("新能源"!=i.energy_type){t.next=32;break}console.log("车牌号正确"),t.next=35;break;case 32:return e.showToast({title:"车牌号不正确，请确认是否为新能源车",icon:"none"}),i.plate_num="",t.abrupt("return");case 35:t.next=45;break;case 37:if(!o.test(r)){t.next=45;break}if("非新能源"!=i.energy_type){t.next=42;break}console.log("车牌号正确"),t.next=45;break;case 42:return e.showToast({title:"车牌号不正确，请确认是否为非新能源车",icon:"none"}),i.plate_num="",t.abrupt("return");case 45:if(!(null==i.params.vehicleLadenWeight||""==i.params.vehicleLadenWeight||i.params.vehicleLadenWeight.length<1)){t.next=48;break}return e.showToast({title:"未输入车辆总质量, 请输入",icon:"none"}),t.abrupt("return");case 48:if(!(null==i.params.vehicleTonnage||""==i.params.vehicleTonnage||i.params.vehicleTonnage.length<1)){t.next=51;break}return e.showToast({title:"未输入核定载质量, 请输入",icon:"none"}),t.abrupt("return");case 51:if(!(null==i.params.vehicleRoadcertNo||""==i.params.vehicleRoadcertNo||i.params.vehicleRoadcertNo.length<1)){t.next=54;break}return e.showToast({title:"未输入道路运输证号, 请输入",icon:"none"}),t.abrupt("return");case 54:if(!(null==i.params.vehicleAxlenum||""==i.params.vehicleAxlenum||i.params.vehicleAxlenum.length<1)){t.next=57;break}return e.showToast({title:"未输入车轴数, 请输入",icon:"none"}),t.abrupt("return");case 57:i.params.the_step=4,i.params.active_one_step=!0,i.params.active_two_step=!0,i.params.active_three_step=!0,i.params.active_four_step=!0,i.params.active_five_step=!1,e.setStorageSync("params_vehicle",i.params),i.$emit("register_vehicle_params",i.params);case 65:case"end":return t.stop()}}),t)})))()},backBusiness:function(){this.params.the_step=2,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!1,this.params.active_four_step=!1,this.params.active_five_step=!1,e.setStorageSync("params_vehicle",this.params),this.$emit("register_vehicle_params",this.params)}}};t.default=l}).call(this,i("543d")["default"])},a8e4:function(e,t,i){},a959:function(e,t,i){"use strict";var r=i("6acc"),a=i.n(r);a.a},b00f:function(e,t,i){},b28a:function(e,t,i){"use strict";i.r(t);var r=i("eed2"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},b63a:function(e,t,i){},b7fb:function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.begin_date_has_input=!0},e.e1=function(t){e.expiry_date_has_input=!0},e.e2=function(t){e.driver_cert_expiry_date_has_input=!0})},n=[]},d2e4:function(e,t,i){},db1a:function(e,t,i){"use strict";var r;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},db74:function(e,t,i){"use strict";i.r(t);var r=i("fcdc"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},dba5:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(i("a34a")),a=i("2e4a");function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i,r,a,n,s){try{var o=e[n](s),c=o.value}catch(l){return void i(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(r,a){var n=e.apply(t,i);function o(e){s(n,r,a,o,c,"next",e)}function c(e){s(n,r,a,o,c,"throw",e)}o(void 0)}))}}var c,l=function(){i.e("components/xfl-select/xfl-select").then(function(){return resolve(i("00e2"))}.bind(null,i)).catch(i.oe)},u=i("6802"),h={data:function(){var e=this.getDate({format:!0});return{isPerson:!1,disabled:!0,active:!1,active_two_step:!1,active_three_step:!1,driver_name:"",driver_id:"",driver_tel:"",quali_cert_num:"",imgDriverIDFrontUrl:"/static/id_front.jpg",imgDriverIDBackUrl:"/static/id-back.jpg",imgDriverLicensePhotoUrl:"/static/driving_license.jpg",imgDrivingCertificateUrl:"/static/roadcert.jpg",tachar_driver_id_front:!1,tachar_driver_id_back:!1,tachar_driver_license:!1,tachar_driving_certificate:!1,begin_date:e,expiry_date:e,driver_cert_expiry_date:e,list:["A2","B2"],index:0,begin_date_has_input:!1,expiry_date_has_input:!1,driver_cert_expiry_date_has_input:!1,params:{active_one_step:!0,active_two_step:!0,active_three_step:!0,active_four_step:!0,the_step:4}}},components:{xflSelect:l},computed:{endDate:function(){return this.getDate("end")}},created:function(){this.isPerson=e.getStorageSync("in_personal_registering"),this.params_license=e.getStorageSync("params_license")},mounted:function(){var t=this.params_license.driverVehicleClass||"A2";this.index=this.list.findIndex((function(e){return e==t})),this.isPerson&&(this.quali_cert_num=e.getStorageSync("driver_id_num")),this.isPerson||(this.quali_cert_num=this.params_license.driverIdNumber||"",this.quali_cert_num=this.params_license.qualificationCertNo||""),this.params_license.qualificationCertStartDate&&(this.begin_date=this.params_license.qualificationCertStartDate||this.getDate({format:!0}),this.begin_date_has_input=!0),this.params_license.qualificationCertExpireDate&&(this.expiry_date=this.params_license.qualificationCertExpireDate||this.getDate({format:!0}),this.expiry_date_has_input=!0),this.params_license.drivercertValidPeriodTo&&(this.driver_cert_expiry_date=this.params_license.drivercertValidPeriodTo||this.getDate({format:!0}),this.driver_cert_expiry_date_has_input=!0),this.isPerson||(this.driver_name=this.params_license.driverName,this.driver_id=this.params_license.driverIdNumber,this.driver_tel=this.params_license.driverPhone),this.params=this.params_license||{},this.params_license.drivingLicensePhotoFirst&&(this.disabled=!1,this.active=!0)},methods:{detailImage:function(e,t){plus.io.resolveLocalFileSystemURL(e,(function(e){e.file((function(e){var i=new plus.io.FileReader;i.readAsDataURL(e),i.onloadend=function(e){t(e.target.result)}}))}))},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为 准驾车型",e.target.value),this.index=e.target.value,0==this.index?this.params.driverVehicleClass="A2":1==this.index&&(this.params.driverVehicleClass="B2")},getDriverName:function(e){this.driver_name=e.detail.value,this.params.driverName=e.detail.value,this.params.driverCertificateType="201"},getDriverApprovedVehicleType:function(e){this.params.driverVehicleClass=e.newVal},getDriverCel:function(e){this.driver_tel=e.detail.value,this.params.driverPhone=e.detail.value},getDriverID:function(e){this.driver_id=e.detail.value,this.params.driverIdNumber=e.detail.value,this.isPerson||(this.quali_cert_num=e.detail.value,this.params.qualificationCertNo=e.detail.value)},getDrivingCertificateNum:function(e){this.quali_cert_num=e.detail.value,this.params.qualificationCertNo=e.detail.value},bindDateChange:function(e){"license_begin_date"==e.currentTarget.dataset.index?(this.begin_date=e.target.value,this.params.qualificationCertStartDate=this.begin_date,this.begin_date_has_input=!0):"license_expiry_date"==e.currentTarget.dataset.index?(this.expiry_date=e.target.value,this.params.qualificationCertExpireDate=this.expiry_date,this.expiry_date_has_input=!0):"driver_cert_expiry_date"==e.currentTarget.dataset.index&&(this.driver_cert_expiry_date=e.target.value,this.params.drivercertValidPeriodTo=e.target.value,this.driver_cert_expiry_date_has_input=!0)},getDate:function(e){var t=new Date,i=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=20),r=r>9?r:"0"+r,a=a>9?a:"0"+a,"".concat(i,"-").concat(r,"-").concat(a)},takephoto:function(t){var i=this;return o(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(c=i,"driver_id_front"!=t.currentTarget.dataset.index){n.next=5;break}e.chooseImage({count:1,sizeType:["original","compressed"],success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,console.log(i,"876"),c.imgDriverIDFrontUrl=i[0],c.tachar_driver_id_front=!0,t.next=6,c.$upload({url:a.ossLocation.driver.front,file_path:i[0]});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()},error:function(e){console.log(e)}}),n.next=21;break;case 5:if("driver_id_back"!=t.currentTarget.dataset.index){n.next=9;break}e.chooseImage({count:1,sizeType:["original","compressed"],success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,console.log(i,"876"),c.imgDriverIDBackUrl=i[0],c.tachar_driver_id_back=!0,t.next=6,c.$upload({url:a.ossLocation.driver.reverse,file_path:i[0]});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()},error:function(e){console.log(e)}}),n.next=21;break;case 9:if("driver_license_photo_first"!=t.currentTarget.dataset.index){n.next=17;break}return c.disabled=!1,c.active=!0,n.next=14,i.$photo({success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,c.imgDriverLicensePhotoUrl=i[0],c.tachar_driver_license=!0,t.next=5,c.$upload({url:a.ossLocation.driver.first,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 14:n.sent,n.next=21;break;case 17:if("driving_certificate"!=t.currentTarget.dataset.index){n.next=21;break}return n.next=20,i.$photo({success:function(e){return o(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.tempFilePaths,c.imgDrivingCertificateUrl=i[0],c.tachar_driving_certificate=!0,t.next=5,c.$upload({url:a.ossLocation.driver.cert,file_path:i[0]});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))()}});case 20:n.sent;case 21:case"end":return n.stop()}}),n)})))()},cancelDriverIDFront:function(){this.imgDriverIDFrontUrl="/static/id_front.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_id_front=!1},cancelDriverIDBack:function(){this.imgDriverIDBackUrl="/static/id-back.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_id_back=!1},cancelDriverLicense:function(){this.imgDriverLicensePhotoUrl="/static/driving_license.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driver_license=!1},cancelDrivingCertificate:function(){this.imgDrivingCertificateUrl="/static/roadcert.jpg",setTimeout((function(){e.showToast({title:"删除照片成功，请重新选择",icon:"none"})}),500),this.tachar_driving_certificate=!1},backVehicle:function(){this.params.the_step=3,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!0,this.params.active_four_step=!1,this.params.active_five_step=!1,e.setStorageSync("params_license",this.params),this.$emit("register_license_params",this.params)},formSubmit:function(t){if(this.params.drivingLicensePhotoFirst=e.getStorageSync("drivingLicensePhotoFirst"),null==this.params.drivingLicensePhotoFirst||""==this.params.drivingLicensePhotoFirst||this.params.drivingLicensePhotoFirst.length<1)e.showToast({title:"未提交机动车驾驶证主页, 请提交",icon:"none"});else{if(!this.isPerson){if(this.params.idcardFront=e.getStorageSync("idcardFront"),null==this.params.idcardFront||""==this.params.idcardFront||this.params.idcardFront.length<1)return void e.showToast({title:"未提交驾驶员身份证正面, 请提交",icon:"none"});if(this.params.idcardBack=e.getStorageSync("idcardBack"),null==this.params.idcardBack||""==this.params.idcardBack||this.params.idcardBack.length<1)return void e.showToast({title:"未提交驾驶员身份证背面, 请提交",icon:"none"});if(null==this.params.driverName||""==this.params.driverName||this.params.driverName.length<1)return void e.showToast({title:"未输入驾驶员姓名号码, 请输入",icon:"none"});if(null==this.params.driverIdNumber||""==this.params.driverIdNumber||this.params.driverIdNumber.length<18)return void e.showToast({title:"驾驶员身份证号不正确, 请重输",icon:"none"});if(null==this.params.driverPhone||""==this.params.driverPhone||this.params.driverPhone.length<11)return void e.showToast({title:"驾驶员手机号码不正确, 请修改",icon:"none"})}(null==this.params.driverVehicleClass||""==this.params.driverVehicleClass||this.params.driverVehicleClass.length<1)&&(this.params.driverVehicleClass="A2"),console.log("form发生了submit事件，携带数据为："+JSON.stringify(t.detail.value));var i=[{name:"cellphone",checkType:"phoneno",errorMsg:"手机号格式不正确"}],r=t.detail.value,a=u.check(r,i);a||this.isPerson?(this.params.the_step=5,this.params.active_one_step=!0,this.params.active_two_step=!0,this.params.active_three_step=!0,this.params.active_four_step=!0,this.params.active_five_step=!0,e.setStorageSync("params_license",this.params),this.$emit("register_license_params",this.params)):(e.showToast({title:u.error,icon:"none"}),this.driver_tel="")}}}};t.default=h}).call(this,i("543d")["default"])},eed2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{}}};t.default=r},f48c:function(e,t,i){"use strict";i.r(t);var r=i("dba5"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},f991:function(e,t,i){"use strict";i.r(t);var r=i("8065"),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},fcdc:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("66fd"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}function c(e,t){return d(e)||p(e,t)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,a=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)if(i.push(s.value),t&&i.length===t)break}catch(c){a=!0,n=c}finally{try{r||null==o["return"]||o["return"]()}finally{if(a)throw n}}return i}}function d(e){if(Array.isArray(e))return e}r.default.__xfl_select=r.default.__xfl_select||new r.default;var f={name:"xfl-select",props:{list:{type:Array,default:function(){return[]}},list2:{type:Array,default:function(){return[]}},focusShowList:null,initValue:null,isCanInput:{type:Boolean,default:!1},selectHideType:{type:String,default:"hideAll"},placeholder:{type:String,default:"请选择"},style_Container:{type:String,default:""},disabled:{type:Boolean,default:!1},showItemNum:{type:Number,default:5},listShow:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0}},data:function(){return{isShowList:!1,selectText:"",activeIndex:-1,isRotate:!1,listTop__:50}},watch:{listShow:function(e,t){this.onDataChange_listShow(e,t)}},computed:{focusShowList__:function(){return null!=this.focusShowList&&this.focusShowList},listBoxHeight__:function(){var e=2;return this.showItemNum*e},showInput:function(){return this.isCanInput&&!this.disabled},innerList:function(){var e=[],t=this.list;return t.forEach((function(t,i){var r="object"===typeof t&&"value"in t?t.value:t,a="object"===typeof t&&1==t.disabled;e.push({isActive:!1,value:r,disabled:a})})),e}},mounted:function(){r.default.__xfl_select.$on("open",this.onOtherXflSelectOpen),this.switchMgr=new m(this.onListShow,this.onListHide),this.onDataChange_listShow(this.listShow,null),this.init()},beforeDestroy:function(){r.default.__xfl_select.$off("open",this.onOtherXflSelectOpen)},methods:{onOtherXflSelectOpen:function(e){"independent"!==this.selectHideType&&"hideOthers"!==this.selectHideType&&e!==this&&this.switchMgr.close(100)},init:function(){this.clearInput(),this.setInput(this.initValue),this.changeActiveIndex(this.initValue),this.getInputBoxHeight()},getInputBoxHeight:function(){var e=this,t=this;_(".show-box",t,(function(t){if(t){var i=6;e.listTop__=t[0].height+i}}))},getIndex:function(e){var t=v(this.innerList,e,"value");return t},itemIsDisabled:function(e){return this.innerList[e].disabled},itemIsActive:function(e){return e===this.activeIndex},onDataChange_listShow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?this.switchMgr.open():this.switchMgr.close(100)},onFocus:function(e){this.focusShowList__&&this.switchMgr.open(),this.$emit("focus",e)},onBlur:function(e){this.focusShowList__&&this.switchMgr.close(100),this.$emit("blur",e)},onUpperClick:function(){this.disabled||(this.switchMgr.toggle("auto",-1,100),this.$emit("input-click"))},onClear:function(){this.clearItemActive(),this.clearInput(),this.$emit("clear")},onInput:function(e){var t=e.detail.value;this.changeActiveIndex(t),this.$emit("input",e)},clearInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.placeholder=null==e?this.placeholder:e,this.selectText=this.showInput?"":this.placeholder},setInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(this.selectText=e)},changeActiveIndex:function(e){if(null!=e){var t=e,i=e;"number"!==typeof e?t=this.getIndex(i):i=this.innerList[t].value,t>-1?!this.itemIsActive(t)&&this.setItemActive(t,i):this.clearItemActive(),this.setInput(i)}},clearItemActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;e<0&&(this.activeIndex=-1)},setItemActive:function(e,t){this.itemIsDisabled(e)||(this.activeIndex=e)},onListClick:function(){},onClickItem:function(e,t){this.itemIsDisabled(e)?this.switchMgr.open():(this.switchMgr.close(100),this.disabled||this.itemIsActive(e)||(this.clearItemActive(),this.setItemActive(e,t),this.$emit("change",{newVal:t,oldVal:this.selectText,index:e,orignItem:this.list[e]}),this.setInput(t)))},onListHide:function(){this.isRotate=!1,this.isShowList=!1,this.$emit("visible-change",!1)},onListShow:function(){this.isShowList=!0,this.isRotate=!0,this.$emit("visible-change",!0),"independent"!==this.selectHideType&&"hideSelf"!==this.selectHideType&&r.default.__xfl_select.$emit("open",this)}}};function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.selector,a=void 0===i?"selector":i,n=t.component,s=void 0===n?null:n,o=t.attemptSpaceTime,l=void 0===o?16:o,u=t.attemptSpaceRate,h=void 0===u?1.5:u,p=t.totalAttemptNum,d=void 0===p?8:p,f=t.id,_=void 0===f||f,m=t.dataset,v=void 0===m||m,g=t.rect,b=void 0===g||g,x=t.size,w=void 0===x||x,T=t.scrollOffset,P=void 0===T||T,k=t.properties,S=void 0===k?[]:k,C=t.computedStyle,L=void 0===C?[]:C,F=t.context,D=void 0===F||F,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=arguments;a="string"===typeof B[0]?B[0]:String(a),"function"!==typeof B[1]&&(s=B[1],N=B[2],I=B[3]),!s instanceof r.default&&(s=null);var O={selector:a,attemptSpaceTime:l,totalAttemptNum:d,attemptSpaceRate:h,id:_,dataset:v,rect:b,size:w,scrollOffset:P,properties:S,computedStyle:L,context:D},A=e.createSelectorQuery();s&&A.in(s);var V,R="viewport"===a?A.selectViewport():A.selectAll(a);return R.fields(O),"function"!==typeof N&&(V=new Promise((function(e){return N=e}))),y((function(e,t){A.exec((function(i){var r=c(i,1),a=r[0];a&&0===a.length&&(a=null),a||d<=t?"function"===typeof N&&N.call(I,a):e(l),l=Math.round(l*h)}))}))(),V}t.default=f;var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n(this,e),this.onopen=t,this.onclose=i,this.isOpen=!1}return o(e,[{key:"toggle",value:function(){var e,t,i,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";"close"!==a&&"open"!==a&&(a=this.isOpen?"close":"open");for(var n,s=0;s<(arguments.length<=1?0:arguments.length-1);s++)switch(n=s+1<1||arguments.length<=s+1?void 0:arguments[s+1],typeof n){case"number":null==e?e=n:t=n;break;case"string":null==i?i=n:r=n;break}var o="open"===a?e:t,c="open"===a?i:r;this.change(a,null==o?-1:o,null==c?"both":c)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("open",e,t)}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("close",e,t)}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both";"open"===e?(clearTimeout(this.openTimer),this.openTimer=null):"close"===e?(clearTimeout(this.closeTimer),this.closeTimer=null):"both"===e&&(clearTimeout(this.closeTimer),this.closeTimer=null,clearTimeout(this.openTimer),this.openTimer=null)}},{key:"change",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(this.cancel(r),!(this.isOpen&&"open"===e||!this.isOpen&&"close"===e)){var a="on"+e;i<0?(this.isOpen="open"===e,"function"===typeof this[a]&&this[a]()):this[e+"Timer"]=setTimeout((function(){t.isOpen="open"===e,"function"===typeof t[a]&&t[a]()}),i)}}}]),e}();function v(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=-1;return i&&("string"===typeof i?i=i.split(/\s*[\,\.]\s*/):Array.isArray(i)||(i="")),g(e,(function(e,n,s){if(i&&(e=b(e,i)),"function"===typeof r?r(e,t,arrElem,n,s):e===t)return a=n,!1})),a}function g(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e||"function"===typeof e||"function"!==typeof t)return e;var r=Object.keys(e),a=e.length,n="number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991;if(n){for(var s,o=/^(?:0|[1-9]\d*)$/,c=9007199254740991,l=[],u=0;u<r.length;u++)s=r[u],o.test(s)&&+s<=c&&l.push(s);r=l}for(var h=0;h<r.length;h++)if(!1===t.call(i,e[r[h]],r[h],e))break;return e}function b(e,t){for(var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=0,s=e,o=t.length;n<o;n++){if(!s||"object"!==typeof s)return;if(i=t[n],n===o-1){if(void 0===r)return s[i];s[i]=r}else{if(!s[i]||"object"!==typeof s[i]){if(!a||void 0===r)return;s[i]={}}s=s[i]}}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=function(e){return e=parseInt(e),!isNaN(e)&&isFinite(e)||(e=-1),e},r=[],a=function(e){if(null==e){for(var t=0;t<r.length;t++)clearTimeout(r[t]);r.length=0}else{var i=r.indexOf(e);i>-1&&(clearTimeout(r[i]),r.splice(i,1))}},n=0,s=function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if("new"===c)a();else if("old"===c&&r.length>0)return;if(o=i(o),o<0)e.call(t,s,++n,r);else{var l=setTimeout((function(){a(l),e.call(t,s,++n,r)}),o);r.push(l)}};return s}}).call(this,i("543d")["default"])}},[["6542","common/runtime","common/vendor"]]]);